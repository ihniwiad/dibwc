{"version":3,"sources":["utils.js","analyzeBrowser.js","animatedAnchors.js","checkSlideToggle.js","dibElectionsTool.js","dropdownMultilevel.js","remoteEvent.js","toTop.js","toggle.js","init.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3gGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/RA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"scripts.js","sourcesContent":["var MY_UTILS = (function( $ ) {\n\n    var Utils = {\n        $document:      $( document ),\n        $window:        $( window ),\n        $body:          $( 'body' ),\n        $scrollRoot:    $( 'html, body'),\n\n        $functionElems: null,\n        $targetElems: null,\n\n        selectors: {\n            functionElement:    '[data-fn]',\n            targetElement:      '[data-tg]'\n        },\n\n        attributes: {\n            target:     'data-fn-target',\n            options:    'data-fn-options'\n        },\n\n        classes: {\n            open:           'show',\n            animating:      'animating',\n            animatingIn:    'animating-in',\n            animatingOut:   'animating-out'\n        },\n\t\t\n\t\tmediaSize: null,\n        mediaSizes: [ \n            {\n                breakpoint: 0,\n                label: 'xs'\n            },\n            {\n                breakpoint: 576,\n                label: 'sm'\n            },\n            {\n                breakpoint: 768,\n                label: 'md'\n            },\n            {\n                breakpoint: 992,\n                label: 'lg'\n            },\n            {\n                breakpoint: 1200,\n                label: 'xl'\n            }\n        ],\n\n        anchorOffsetTop: 0\n    };\n\n    // cache all functional elements\n    var $functionAndTargetElems = $( Utils.selectors.functionElement + ', ' + Utils.selectors.targetElement );\n    Utils.$functionElems = $functionAndTargetElems.filter( Utils.selectors.functionElement );\n    Utils.$targetElems = $functionAndTargetElems.filter( Utils.selectors.targetElement );\n\n    // anchors offset top\n    var anchorOffsetTopSelector = '[data-fn=\"anchor-offset-elem\"]';\n    var anchorOffsetTopDistance = 20;\n    var $anchorOffsetTopElem = Utils.$functionElems.filter( anchorOffsetTopSelector );\n\n    $.fn._getAnchorOffset = function() {\n        return ( ( $anchorOffsetTopElem.length > 0 ) ? this.outerHeight(): 0 ) + anchorOffsetTopDistance;\n    }\n\n    Utils.anchorOffsetTop = $anchorOffsetTopElem._getAnchorOffset();\n\n    Utils.$window.on( 'sizeChange', function() {\n        Utils.anchorOffsetTop = $anchorOffsetTopElem._getAnchorOffset();\n    } );\n\n    // convert type\n    function _convertType( value ) {\n        try {\n            value = JSON.parse( value );\n            return value;\n        } \n        catch( e ) {\n            // 'value' is not a json string.\n            return value\n        }\n    }\n\n    // get transition duration\n    $.fn.getTransitionDuration = function() {\n        var duration = 0;\n        var cssProperty = 'transition-duration';\n        var prefixes = [ 'webkit', 'ms', 'moz', 'o' ];\n        if ( this.css( cssProperty ) ) {\n            duration = this.css( cssProperty );\n        }\n        else {\n            for ( i = 0; i < prefixes.length; i++ ) {\n                if ( this.css( '-' + prefixes[ i ] + '-' + cssProperty ) ) {\n                    duration = this.css( '-' + prefixes[ i ] + '-' + cssProperty );\n                    break;\n                }\n            }\n        }\n        return ( duration.indexOf( 'ms' ) > -1 ) ? parseFloat( duration ) : parseFloat( duration ) * 1000;\n    };\n\n    // set and remove animation class\n    $.fn.setRemoveAnimationClass = function( animatingClass ) {\n        var currentAnimatingClass = ( !! animatingClass ) ? animatingClass : Utils.classes.animating;\n        var $this = $( this );\n        var transitionDuration = $this.getTransitionDuration();\n        if ( transitionDuration > 0 ) {\n            $this.addClass( animatingClass );\n            var timeout = setTimeout( function() {\n                $this.removeClass( animatingClass );\n            }, transitionDuration );\n        }\n    };\n\n    // check if element is positiones inside (x, y, width, height) of another element\n    $.fn.elemPositionedInside = function( container ) {\n\n        var $this = $( this );\n        var $container = $( container );\n\n        var elemOffsetLeft = $this.offset().left;\n        var elemOffsetTop = $this.offset().top;\n        var elemWidth = $this.width();\n        var elemHeight = $this.height();\n\n        var containerOffsetLeft = $container.offset().left;\n        var containerOffsetTop = $container.offset().top;\n        var containerWidth = $container.outerWidth(); // include border since offset will calulate only to border\n        var containerHeight = $container.outerHeight();\n\n        return elemOffsetLeft >= containerOffsetLeft\n            && ( elemOffsetLeft + elemWidth ) <= ( containerOffsetLeft + containerWidth )\n            && elemOffsetTop >= containerOffsetTop\n            && ( elemOffsetTop + elemHeight ) <= ( containerOffsetTop + containerHeight );\n    };\n\n    // aria expanded\n    $.fn.ariaExpanded = function( value ) {\n        if ( typeof value !== 'undefined' ) {\n            $( this ).attr( 'aria-expanded', value );\n            return value;\n        }\n        return _convertType( $( this ).attr( 'aria-expanded' ) );\n    };\n\n    // aria\n    $.fn.aria = function( ariaName, value ) {\n        if ( typeof value !== 'undefined' ) {\n            $( this ).attr( 'aria-' + ariaName, value );\n            return value;\n        }\n        else {\n            return _convertType( $( this ).attr( 'aria-' + ariaName ) );\n        }\n    };\n\t\n\t// media size (media change event)\n\tvar mediaSize = '';\n    var mediaSizeBodyClassPrefix = 'media-';\n\n\t_getmediaSize = function() {\n\t\tvar currentmediaSize;\n\t\tif ( !! window.matchMedia ) {\n\t\t\t// modern browsers\n\t\t\tfor ( i = 0; i < Utils.mediaSizes.length - 1; i++ ) {\n\t\t\t\tif ( window.matchMedia( '(max-width: ' + ( Utils.mediaSizes[ i + 1 ].breakpoint - 1 ) + 'px)' ).matches ) {\n\t\t\t\t\tcurrentmediaSize = Utils.mediaSizes[ i ].label;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcurrentmediaSize = Utils.mediaSizes[ Utils.mediaSizes.length - 1 ].label;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\t// fallback old browsers\n\t\t\tfor ( i = 0; i < Utils.mediaSizes.length - 1; i++ ) {\n\t\t\t\tif ( Utils.$window.width() < Utils.mediaSizes[ i + 1 ].breakpoint ) {\n\t\t\t\t\tcurrentmediaSize = Utils.mediaSizes[ i ].label;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcurrentmediaSize = Utils.mediaSizes[ Utils.mediaSizes.length - 1 ].label;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif ( currentmediaSize != Utils.mediaSize ) {\n            // remove / set body class\n            Utils.$body.removeClass( mediaSizeBodyClassPrefix + Utils.mediaSize );\n            Utils.$body.addClass( mediaSizeBodyClassPrefix + currentmediaSize );\n\n\t\t\tUtils.mediaSize = currentmediaSize;\n\t\t\tUtils.$window.trigger( 'sizeChange' );\n\t\t}\n\t};\n\tUtils.$document.ready( function() {\n\t\t_getmediaSize();\n\t\tUtils.$window.trigger( 'sizeChangeReady' );\n\t} );\n\tUtils.$window.on( 'resize', function() {\n\t\t_getmediaSize();\t\n\t} );\n\t// /media size (media change event)\n\n    // get options from attribute\n    // syntax: data-fn-options=\"{ focusOnOpen: '[data-tg=\\'header-search-input\\']', bla: true, foo: 'some text content' }\"\n    $.fn.getOptionsFromAttr = function () {\n        var $this = $(this);\n        var options = $this.attr( Utils.attributes.options );\n        if ( typeof options !== 'undefined' ) {\n            return ( new Function( 'return ' + options ) )();\n        }\n        else {\n            return false;\n        }\n    }\n    // /get options from attribute\n\n    return Utils;\n})( jQuery );","( function() {\n\t\n\t// detect ios / android\n\tvar isIos = /iPad|iPhone|iPod/.test( navigator.platform ) && ! window.MSStream;\n\tvar isAndroid = /(android)/i.test( navigator.userAgent );\n\tif ( isIos ) {\n\t\tdocument.body.className += ' is-ios';\n\t}\n\telse if ( isAndroid ) {\n\t\tdocument.body.className += ' is-android';\n\t}\n\t\n\tfunction detectIE() {\n\t\tvar ua = window.navigator.userAgent;\n\t\tvar msie = ua.indexOf( 'MSIE ' );\n\t\t\tif ( msie > 0 ) {\n\t\t\treturn parseInt( ua.substring( msie + 5, ua.indexOf( '.', msie ) ), 10 );\n\t\t}\n\t\tvar trident = ua.indexOf( 'Trident/' );\n\t\tif ( trident > 0 ) {\n\t\t\tvar rv = ua.indexOf( 'rv:' );\n\t\t\treturn parseInt( ua.substring( rv + 3, ua.indexOf( '.', rv ) ), 10 );\n\t\t}\n\t\tvar edge = ua.indexOf( 'Edge/' );\n\t\tif ( edge > 0 ) {\n\t\t\treturn parseInt( ua.substring( edge + 5, ua.indexOf( '.', edge ) ), 10 );\n\t\t}\n\t\treturn false;\n\t}\n\n\t// detect ie gt 9\n\tvar ieMaxVersion = 14;\n\tvar ieVersion = detectIE();\n\tif ( ieVersion !== false && ieVersion > 9 ) {\n\t\tdocument.body.className += ' ie ie' + ieVersion;\n\t\tfor ( i = ieVersion; i <= ieMaxVersion; i++ ) {\n\t\t\tdocument.body.className += ' ielte' + i;\n\t\t}\n\t}\n\n\t// fix ios missing body click event (set event to all div elements which are children of body)\n\tif ( isIos ) {\n\t\tvar bodyChildren = document.body.children;\n\t\tfor ( i = 0; i < bodyChildren.length; i++ ) {\n\t\t\tif ( bodyChildren[ i ].tagName == 'DIV' ) {\n\t\t\t\tbodyChildren[ i ].setAttribute( 'onclick', 'void(0);' );\n\t\t\t}\n\t\t}\n\t}\n\n} )();","( function( $, Utils ) {\n\n    // smooth scrolling to anchors\n    $.fn.animatedAnchors = function( options ) {\n\n        var $elems = $( this );\n\n        var defaults = {\n            scrollToInitialHash: true,\n            scrollDurationMin: 300,\n            scrollDurationMax: 800,\n            scrollDurationPer1000: 400,\n            offset: function() {\n                return 0;\n            },\n            scrollTolerance: 1, // scroll little bit more than to anchor position to make sure to trigger scrollspy\n            fixedClass: 'fixed'\n        };\n\n        options = $.extend( {}, defaults, options );\n\n        $.fn._animatedScrollTo = function() {\n\n            $this = $( this );\n\n            var scrollTop = Utils.$window.scrollTop();\n            var thisOffsetTop = $this.offset().top + options.scrollTolerance;\n\n            var scrollDuration = Math.abs( thisOffsetTop - options.offset() - scrollTop ) * options.scrollDurationPer1000 / 1000;\n\n            // limit scroll duration (min, max)\n            if  ( scrollDuration < options.scrollDurationMin ) {\n                scrollDuration = options.scrollDurationMin;\n            }\n            else if ( scrollDuration > options.scrollDurationMax ) {\n                scrollDuration = options.scrollDurationMax;\n            }\n\n            Utils.$scrollRoot.animate({ scrollTop: ( thisOffsetTop - options.offset() ) }, scrollDuration);\n\n        }\n\n        // scroll to initial url anchor\n        if ( options.scrollToInitialHash ) {\n            var $currentAnchor = $( window.location.hash );\n            if ( window.location.hash && $currentAnchor.length > 0 ) {\n\n                // TODO: use browser native jumping to hash instead of smooth (but late) scrolling?\n                // scroll to top while loading\n                /*\n                Utils.$document.ready( function() {\n                    Utils.$scrollRoot.scrollTop( 0 );\n                } );\n                */\n                // scroll to anchor\n                $currentAnchor._animatedScrollTo();\n\n                // scroll to anchor again after fonts loaded\n                Utils.$window.on( 'load', function() {\n                    $currentAnchor._animatedScrollTo();\n                } );\n            }\n        }\n\n        $elems.each( function() {\n\n            var $elem = $( this );\n\n            $elem.on( 'click', function() {\n\n                var targetSelector = $elem.attr( 'href' );\n                var $target = $( targetSelector );\n\n                if ( $target.length > 0 ) {\n                    $target._animatedScrollTo();\n                }\n\n            } );\n\n        } );\n\n    };\n\n} )( jQuery, MY_UTILS );","// check slide toggle\n\n/*\n\n*/\n\n( function( $, Utils ) {\n\n    $.fn.checkSlideToggle = function( options ) {\n\n        var defaults = {\n            effectIn: 'slideDown',\n            effectOut: 'slideUp',\n            effectDuration: 400,\n            triggerSelector: 'input[type=\"checkbox\"]',\n            openedClass: Utils.classes.open,\n            animatingClass: Utils.classes.animating,\n            animatingInClass: Utils.classes.animatingIn,\n            animatingOutClass: Utils.classes.animatingOut\n        };\n\n        options = $.extend( {}, defaults, options );\n\n        var $elems = $( this );\n\n        $elems.each( function() {\n\n            var $elem = $( this );\n            var $elemTrigger = $elem.find( options.triggerSelector );\n            var $elemBody = $elem.find( $( $elemTrigger.attr( 'aria-controls' ) ) );\n\n            // initial set closed\n            if ( ! $elemTrigger.is( ':checked' ) ) {\n                $elem.removeClass( options.openedClass );\n                $elemTrigger.ariaExpanded( false );\n                $elemBody.hide();\n            }\n            else {\n                $elem.addClass( options.openedClass );\n                $elemTrigger.ariaExpanded( true );\n                $elemBody.show();\n            }\n\n            // bind click event\n            $elemTrigger.on( 'change', function() {\n\n                if ( ! $elemTrigger.ariaExpanded() ) {\n                    $elem\n                        .addClass( options.animatingClass )\n                        .addClass( options.animatingInClass );\n                    $elemTrigger.ariaExpanded( true );\n                    $elemBody\n                    .stop()[ options.effectIn ]( options.effectDuration, function() {\n                        $elem\n                            .addClass( options.openedClass )\n                            .removeClass( options.animatingClass )\n                            .removeClass( options.animatingInClass );\n                    } );\n                }\n                else {\n                    $elem\n                        .addClass( options.animatingClass )\n                        .addClass( options.animatingOutClass )\n                        .removeClass( options.openedClass );\n                    $elemTrigger.ariaExpanded( false );\n                    $elemBody.stop()[ options.effectOut ]( options.effectDuration, function() {\n                        $elem\n                            .removeClass( options.animatingClass )\n                            .removeClass( options.animatingOutClass );\n                    } );\n                }\n\n            } );\n\n        } );\n\n    };\n\n} )( jQuery, MY_UTILS );","// dib elections tool\n\n( function( $, Utils ) {\n\n\tvar electionConfig = {\n\t\t\"Vorstand\": [\n\t\t\t{\n\t\t\t\t\"name\": \"Vorsitzende\",\n\t\t\t\t\"count\": 2\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"Schatzmeister*in\",\n\t\t\t\t\"count\": 1\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"weitere Mitglieder\",\n\t\t\t\t\"count\": \"variable\",\n\t\t\t\t\"countVariable\": true,\n\t\t\t\t\"overall\": true\n\t\t\t}\n\t\t],\n\t\t\"Schiedsgericht\": [\n\t\t\t{\n\t\t\t\t\"name\": \"Richter*innen\",\n\t\t\t\t\"count\": 3\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"Ersatzrichter*innen\",\n\t\t\t\t\"count\": 2,\n\t\t\t\t\"overall\": true\n\t\t\t}\n\t\t],\n\t\t\"Kassenprüfer*innen\": [\n\t\t\t{\n\t\t\t\t\"name\": \"Kassenprüfer*innen\",\n\t\t\t\t\"count\": 2\n\t\t\t}\n\t\t]\n\t};\n\n\t// TEST – TODO: remove\n\tvar currentElectionPreset;\n\n\tvar url = new URL( document.location.href );\n\tvar preset = url.searchParams.get( 'preset' );\n\t\n\tif ( preset == 2 ) {\n\t\t// TEST (test configuration joint and single election) – TODO: remove\n\t\tcurrentElectionPreset = {\n\t\t\t\"Vorstand\": [\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"Vorsitzende\",\n\t\t\t\t\t\"count\": 2,\n\t\t\t\t\t\"joint\": true,\n\t\t\t\t\t\"candidates\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\t\"name\": \"Lina Limone\",\n\t\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\t\"diverse\": false\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"yes\": 18,\n\t\t\t\t\t\t\t\"no\": 2\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\t\"name\": \"Manfred Mango\",\n\t\t\t\t\t\t\t\t\"female\": false,\n\t\t\t\t\t\t\t\t\"diverse\": false\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"yes\": 12,\n\t\t\t\t\t\t\t\"no\": 1\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\t\"name\": \"Olivia Orange\",\n\t\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\t\"diverse\": true\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"yes\": 12,\n\t\t\t\t\t\t\t\"no\": 0\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"Schatzmeister*in\",\n\t\t\t\t\t\"count\": 1,\n\t\t\t\t\t\"candidates\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\t\"name\": \"Anna Ananas\",\n\t\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\t\"diverse\": true\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"yes\": 12,\n\t\t\t\t\t\t\t\"no\": 4\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\t\"name\": \"Cora Cocos\",\n\t\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\t\"diverse\": false\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"yes\": 7,\n\t\t\t\t\t\t\t\"no\": 1\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"weitere Mitglieder\",\n\t\t\t\t\t\"count\": 3,\n\t\t\t\t\t\"countVariable\": true,\n\t\t\t\t\t\"overall\": true,\n\t\t\t\t\t\"joint\": false,\n\t\t\t\t\t\"candidates\": [\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\t\t\"name\": \"Maria Maracuja\",\n\t\t\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\t\t\"diverse\": true\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\"yes\": 12,\n\t\t\t\t\t\t\t\t\"no\": 0\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\t\t\"name\": \"Bernard Banane\",\n\t\t\t\t\t\t\t\t\t\"female\": false,\n\t\t\t\t\t\t\t\t\t\"diverse\": false\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\"yes\": 12,\n\t\t\t\t\t\t\t\t\"no\": 1\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\t\t\"name\": \"Kira Kirsch-Banane\",\n\t\t\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\t\t\"diverse\": false\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\"yes\": 18,\n\t\t\t\t\t\t\t\t\"no\": 2\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\t\t\"name\": \"Alfred Apfel\",\n\t\t\t\t\t\t\t\t\t\"female\": false,\n\t\t\t\t\t\t\t\t\t\"diverse\": true\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\"yes\": 11,\n\t\t\t\t\t\t\t\t\"no\": 3\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\t\t\"name\": \"Anna Ananas\",\n\t\t\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\t\t\"diverse\": true\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\"yes\": 12,\n\t\t\t\t\t\t\t\t\"no\": 4\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\t\t\"name\": \"Cora Cocos\",\n\t\t\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\t\t\"diverse\": false\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\"yes\": 7,\n\t\t\t\t\t\t\t\t\"no\": 1\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\t\t\"name\": \"Kilian Kiwi\",\n\t\t\t\t\t\t\t\t\t\"female\": false,\n\t\t\t\t\t\t\t\t\t\"diverse\": true\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\"yes\": 7,\n\t\t\t\t\t\t\t\t\"no\": 0\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\t\t\"name\": \"Mandy Mandarine\",\n\t\t\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\t\t\"diverse\": true\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\"yes\": 8,\n\t\t\t\t\t\t\t\t\"no\": 2\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\t\t\"name\": \"Melly Melone\",\n\t\t\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\t\t\"diverse\": false\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\"yes\": 15,\n\t\t\t\t\t\t\t\t\"no\": 3\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\t}\n\telse if ( preset == 1 ) {\n\t\t// TEST (test configuration joint election) – TODO: remove\n\t\tcurrentElectionPreset = {\n\t\t\t\"Vorstand\": [\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"Vorsitzende\",\n\t\t\t\t\t\"count\": 2,\n\t\t\t\t\t\"joint\": true,\n\t\t\t\t\t\"candidates\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\t\"name\": \"Lina Limone\",\n\t\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\t\"diverse\": false\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"yes\": 18,\n\t\t\t\t\t\t\t\"no\": 2\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\t\"name\": \"Manfred Mango\",\n\t\t\t\t\t\t\t\t\"female\": false,\n\t\t\t\t\t\t\t\t\"diverse\": false\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"yes\": 12,\n\t\t\t\t\t\t\t\"no\": 1\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\t\"name\": \"Olivia Orange\",\n\t\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\t\"diverse\": true\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"yes\": 12,\n\t\t\t\t\t\t\t\"no\": 0\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\t\"results\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\t\"name\": \"Lina Limone\",\n\t\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\t\"diverse\": false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\t\"name\": \"Manfred Mango\",\n\t\t\t\t\t\t\t\t\"female\": false,\n\t\t\t\t\t\t\t\t\"diverse\": false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"Schatzmeister*in\",\n\t\t\t\t\t\"count\": 1,\n\t\t\t\t\t\"candidates\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\t\"name\": \"Kilian Kiwi\",\n\t\t\t\t\t\t\t\t\"female\": false,\n\t\t\t\t\t\t\t\t\"diverse\": true\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"yes\": 7,\n\t\t\t\t\t\t\t\"no\": 0\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\t\"name\": \"Mandy Mandarine\",\n\t\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\t\"diverse\": true\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"yes\": 8,\n\t\t\t\t\t\t\t\"no\": 2\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\t\"name\": \"Melly Melone\",\n\t\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\t\"diverse\": false\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"yes\": 15,\n\t\t\t\t\t\t\t\"no\": 3\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\t\"results\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\t\"name\": \"Melly Melone\",\n\t\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\t\"diverse\": false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"weitere Mitglieder\",\n\t\t\t\t\t\"count\": 3,\n\t\t\t\t\t\"countVariable\": true,\n\t\t\t\t\t\"overall\": true,\n\t\t\t\t\t\"joint\": true,\n\t\t\t\t\t\"candidates\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\t\"name\": \"Maria Maracuja\",\n\t\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\t\"diverse\": true\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"yes\": 12,\n\t\t\t\t\t\t\t\"no\": 0\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\t\"name\": \"Bernard Banane\",\n\t\t\t\t\t\t\t\t\"female\": false,\n\t\t\t\t\t\t\t\t\"diverse\": false\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"yes\": 12,\n\t\t\t\t\t\t\t\"no\": 1\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\t\"name\": \"Kira Kirsch-Banane\",\n\t\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\t\"diverse\": false\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"yes\": 18,\n\t\t\t\t\t\t\t\"no\": 2\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\t\"name\": \"Alfred Apfel\",\n\t\t\t\t\t\t\t\t\"female\": false,\n\t\t\t\t\t\t\t\t\"diverse\": true\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"yes\": 11,\n\t\t\t\t\t\t\t\"no\": 3\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\t\"name\": \"Anna Ananas\",\n\t\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\t\"diverse\": true\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"yes\": 12,\n\t\t\t\t\t\t\t\"no\": 4\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\t\"name\": \"Cora Cocos\",\n\t\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\t\"diverse\": false\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"yes\": 7,\n\t\t\t\t\t\t\t\"no\": 1\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"Schiedsgericht\": [\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"Richter*innen\",\n\t\t\t\t\t\"count\": 3,\n\t\t\t\t\t\"joint\": true,\n\t\t\t\t\t\"candidates\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\t\"name\": \"Pablo Papaya\",\n\t\t\t\t\t\t\t\t\"female\": false,\n\t\t\t\t\t\t\t\t\"diverse\": true\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"yes\": 8,\n\t\t\t\t\t\t\t\"no\": 0\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\t\"name\": \"Lydia Litschi\",\n\t\t\t\t\t\t\t\t\"female\": false,\n\t\t\t\t\t\t\t\t\"diverse\": false\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"yes\": 5,\n\t\t\t\t\t\t\t\"no\": 1\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\t\"name\": \"Eduard Erdbeere\",\n\t\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\t\"diverse\": true\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"yes\": 7,\n\t\t\t\t\t\t\t\"no\": 0\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"Ersatzrichter*innen\",\n\t\t\t\t\t\"count\": 2,\n\t\t\t\t\t\"joint\": true,\n\t\t\t\t\t\"overall\": true,\n\t\t\t\t\t\"candidates\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\t\"name\": \"Holly Holunder\",\n\t\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\t\"diverse\": false\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"yes\": 15,\n\t\t\t\t\t\t\t\"no\": 1\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\t\"name\": \"Hila Himbeere\",\n\t\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\t\"diverse\": true\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"yes\": 9,\n\t\t\t\t\t\t\t\"no\": 0\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\t}\n\n\t// TEST – TODO: remove\n/*\n\tvar testElectionResult = {\n\t\t\"Vorstand\": [\n\t\t\t{\n\t\t\t\t\"name\": \"Vorsitzende\",\n\t\t\t\t\"count\": 2,\n\t\t\t\t\"joint\": true,\n\t\t\t\t\"candidates\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\"name\": \"Lina Limone\",\n\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\"diverse\": false\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"yes\": 18,\n\t\t\t\t\t\t\"no\": 2\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\"name\": \"Manfred Mango\",\n\t\t\t\t\t\t\t\"female\": false,\n\t\t\t\t\t\t\t\"diverse\": false\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"yes\": 12,\n\t\t\t\t\t\t\"no\": 1\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\"name\": \"Olivia Orange\",\n\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\"diverse\": true\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"yes\": 12,\n\t\t\t\t\t\t\"no\": 0\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\t\"results\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\"name\": \"Lina Limone\",\n\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\"diverse\": false\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\"name\": \"Manfred Mango\",\n\t\t\t\t\t\t\t\"female\": false,\n\t\t\t\t\t\t\t\"diverse\": false\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"Schatzmeister*in\",\n\t\t\t\t\"count\": 1,\n\t\t\t\t\"candidates\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\"name\": \"Kilian Kiwi\",\n\t\t\t\t\t\t\t\"female\": false,\n\t\t\t\t\t\t\t\"diverse\": true\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"yes\": 7,\n\t\t\t\t\t\t\"no\": 0\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\"name\": \"Mandy Mandarine\",\n\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\"diverse\": true\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"yes\": 8,\n\t\t\t\t\t\t\"no\": 2\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\"name\": \"Melly Melone\",\n\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\"diverse\": false\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"yes\": 15,\n\t\t\t\t\t\t\"no\": 3\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\t\"previous\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\"name\": \"Lina Limone\",\n\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\"diverse\": false\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\"name\": \"Manfred Mango\",\n\t\t\t\t\t\t\t\"female\": false,\n\t\t\t\t\t\t\t\"diverse\": false\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\t\"results\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\"name\": \"Melly Melone\",\n\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\"diverse\": false\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"weitere Mitglieder\",\n\t\t\t\t\"count\": 3,\n\t\t\t\t\"countVariable\": true,\n\t\t\t\t\"overall\": true,\n\t\t\t\t\"joint\": true,\n\t\t\t\t\"candidates\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\"name\": \"Maria Maracuja\",\n\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\"diverse\": true\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"yes\": 12,\n\t\t\t\t\t\t\"no\": 0\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\"name\": \"Bernard Banane\",\n\t\t\t\t\t\t\t\"female\": false,\n\t\t\t\t\t\t\t\"diverse\": false\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"yes\": 12,\n\t\t\t\t\t\t\"no\": 1\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\"name\": \"Kira Kirsch-Banane\",\n\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\"diverse\": false\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"yes\": 18,\n\t\t\t\t\t\t\"no\": 2\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\"name\": \"Alfred Apfel\",\n\t\t\t\t\t\t\t\"female\": false,\n\t\t\t\t\t\t\t\"diverse\": true\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"yes\": 11,\n\t\t\t\t\t\t\"no\": 3\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\"name\": \"Anna Ananas\",\n\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\"diverse\": true\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"yes\": 12,\n\t\t\t\t\t\t\"no\": 4\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\"name\": \"Cora Cocos\",\n\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\"diverse\": false\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"yes\": 7,\n\t\t\t\t\t\t\"no\": 1\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\t\"previous\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\"name\": \"Lina Limone\",\n\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\"diverse\": false\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\"name\": \"Manfred Mango\",\n\t\t\t\t\t\t\t\"female\": false,\n\t\t\t\t\t\t\t\"diverse\": false\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\"name\": \"Melly Melone\",\n\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\"diverse\": false\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\t\"results\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\"name\": \"Kira Kirsch-Banane\",\n\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\"diverse\": false\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\"name\": \"Alfred Apfel\",\n\t\t\t\t\t\t\t\"female\": false,\n\t\t\t\t\t\t\t\"diverse\": true\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\"name\": \"Anna Ananas\",\n\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\"diverse\": true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t],\n\t\t\"Schiedsgericht\": [\n\t\t\t{\n\t\t\t\t\"name\": \"Richter*innen\",\n\t\t\t\t\"count\": 3,\n\t\t\t\t\"joint\": true,\n\t\t\t\t\"candidates\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\"name\": \"Pablo Papaya\",\n\t\t\t\t\t\t\t\"female\": false,\n\t\t\t\t\t\t\t\"diverse\": true\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"yes\": 8,\n\t\t\t\t\t\t\"no\": 0\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\"name\": \"Lydia Litschi\",\n\t\t\t\t\t\t\t\"female\": false,\n\t\t\t\t\t\t\t\"diverse\": false\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"yes\": 5,\n\t\t\t\t\t\t\"no\": 1\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\"name\": \"Eduard Erdbeere\",\n\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\"diverse\": true\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"yes\": 7,\n\t\t\t\t\t\t\"no\": 0\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\t\"results\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\"name\": \"Pablo Papaya\",\n\t\t\t\t\t\t\t\"female\": false,\n\t\t\t\t\t\t\t\"diverse\": true\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\"name\": \"Lydia Litschi\",\n\t\t\t\t\t\t\t\"female\": false,\n\t\t\t\t\t\t\t\"diverse\": false\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\"name\": \"Eduard Erdbeere\",\n\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\"diverse\": true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"Ersatzrichter*innen\",\n\t\t\t\t\"count\": 2,\n\t\t\t\t\"joint\": true,\n\t\t\t\t\"overall\": true,\n\t\t\t\t\"candidates\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\"name\": \"Holly Holunder\",\n\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\"diverse\": false\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"yes\": 15,\n\t\t\t\t\t\t\"no\": 1\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\"name\": \"Hila Himbeere\",\n\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\"diverse\": true\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"yes\": 9,\n\t\t\t\t\t\t\"no\": 0\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\t\"previous\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\"name\": \"Paul Papaya\",\n\t\t\t\t\t\t\t\"female\": false,\n\t\t\t\t\t\t\t\"diverse\": true\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\"name\": \"Lydia Litschi\",\n\t\t\t\t\t\t\t\"female\": false,\n\t\t\t\t\t\t\t\"diverse\": false\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\"name\": \"Eduard Erdbeere\",\n\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\"diverse\": true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\t\"results\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\"name\": \"Holly Holunder\",\n\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\"diverse\": false\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"candidate\": {\n\t\t\t\t\t\t\t\"name\": \"Hila Himbeere\",\n\t\t\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\t\t\"diverse\": true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t]\n\t};\n*/\n\n\t// TODO: load existing config instead of this?\n\tvar currentElectionConfig = ( typeof currentElectionPreset !== 'undefined' ) ? $.extend( {}, electionConfig, currentElectionPreset ) : $.extend( {}, electionConfig );\n\t\n\t// TEMPLATE SELECTORS\n\n    var identifierSuffix = '\"]';\n\tvar formIdentifierPrefix = '[data-fn=\"election-step-';\n\n\t// step\n\tvar stepIdentifierPrefix = '[data-tg=\"election-step-';\n\n\t// back button\n\tvar stepPrevIdentifierPrefix = '[data-fn=\"election-back-';\n\n\t// form\n\tvar stepFormIdentifierPrefix = '[data-fn=\"election-step-form-';\n\n\t// select\n\tvar stepSelectIdentifierPrefix = '[data-fn=\"election-step-select-';\n\n\t// item\n\tvar itemTemplateIdentifierPrefix = '[data-tg=\"election-item-template-';\n\tvar itemAppendIdentifierPrefix = '[data-tg=\"election-item-append-';\n\tvar itemIdentifierAttr = 'data-g-tg';\n\tvar itemIdentifierAttrVal = 'election-item';\n\n\tvar itemIdAttr = 'data-item-id';\n\n\t// subitemgroup\n\tvar subitemgroupTemplateIdentifierPrefix = '[data-tg=\"election-subitemgroup-template-';\n\tvar subitemgroupAppendIdentifierPrefix = '[data-g-tg=\"election-subitemgroup-append-';\n\tvar subitemgroupIdentifierAttr = 'data-g-tg';\n\tvar subitemgroupIdentifierAttrVal = 'election-subitemgroup';\n\n\t// subitem\n\tvar subitemTemplateIdentifierPrefix = '[data-tg=\"election-subitem-template-';\n\tvar subitemAppendIdentifierPrefix = '[data-g-tg=\"election-subitem-append-';\n\tvar subitemIdentifierAttr = 'data-g-tg';\n\tvar subitemIdentifierAttrVal = 'election-subitem';\n\n\tvar subitemIdAttr = 'data-subitem-id';\n\n\t// subitem input\n\tvar confirmDeleteInputAttr = 'data-confirm-delete';\n\tvar confirmDeleteInputClass = 'is-invalid';\n\n\t// user interaction\n\tvar addSubitemsIdentifier = '[data-g-fn=\"add-subitems\"]';\n\tvar addSubitemsCountIdentifier = '[data-g-tg=\"add-subitems-count\"]';\n\tvar subitemRemoveIdentifier = '[data-g-fn=\"election-subitem-remove\"]';\n\tvar validateNumberInputIdentifier = '[data-g-fn=\"validate\"]';\n\n\tvar downloadFileFallback = 'dib_wahl-checker_';\n\n\t// INPUT NAMES\n\n\tvar itemInputs = [];\n\tvar subitemInputs = [];\n\n\tvar inputIdentifierSeparator = '_';\n\tvar formIdentifierAttr = 'name';\n\n\t// items\n\titemInputs[ 0 ] = {\n\t\t\"check\": {\n\t\t\t\"selector\": \"[id^=\\\"election-check-\\\"]\",\n\t\t\t\"value\": \"true\",\n\t\t\t\"name\": \"election_\"\n\t\t}\n\t};\n\n\t// subitems\n\tsubitemInputs[ 0 ] = {\n\t\t\"count\": {\n\t\t\t\"selector\": \"[id^=\\\"election-count-\\\"]\",\n\t\t\t\"value\": \"\",\n\t\t\t\"name\": \"count_\"\n\t\t},\n\t\t\"joint\": {\n\t\t\t\"selector\": \"[id^=\\\"election-joint-\\\"]\",\n\t\t\t\"value\": \"true\",\n\t\t\t\"name\": \"joint_\",\n\t\t\t\"saveAs\": \"joint\"\n\t\t}\n\t};\n\tsubitemInputs[ 1 ] = {\n\t\t\"name\": {\n\t\t\t\"selector\": \"[id^=\\\"name-\\\"]\",\n\t\t\t\"value\": \"\",\n\t\t\t\"name\": \"name_\",\n\t\t\t\"confirmSubitemDelete\": true,\n\t\t\t\"saveAs\": \"name\"\n\t\t},\n\t\t\"female\": {\n\t\t\t\"selector\": \"[id^=\\\"female-check-\\\"]\",\n\t\t\t\"value\": \"true\",\n\t\t\t\"name\": \"female_\",\n\t\t\t\"saveAs\": \"female\"\n\t\t},\n\t\t\"diverse\": {\n\t\t\t\"selector\": \"[id^=\\\"diverse-check-\\\"]\",\n\t\t\t\"value\": \"true\",\n\t\t\t\"name\": \"diverse_\",\n\t\t\t\"saveAs\": \"diverse\"\n\t\t}\n\t};\n\tsubitemInputs[ 2 ] = {\n\t\t\"yes\": {\n\t\t\t\"selector\": \"[id^=\\\"votes-yes-\\\"]\",\n\t\t\t\"value\": \"\",\n\t\t\t\"name\": \"yes_\",\n\t\t\t\"saveAs\": \"yes\"\n\t\t},\n\t\t\"no\": {\n\t\t\t\"selector\": \"[id^=\\\"votes-no-\\\"]\",\n\t\t\t\"value\": \"\",\n\t\t\t\"name\": \"no_\",\n\t\t\t\"saveAs\": \"no\"\n\t\t}\n\t};\n\n\t// ui content\n\tvar electionTitleSeparator = ' » ';\n\tvar addEmptyCandidatesCount = 3; // add x more empty items then candidates to elect\n\tvar selectInitialOption = '<option value=\"-1\" selected>Alle</option>';\n\n\t// FUNCTIONS\n\n\t// replace placeholders\n\t$.fn._replaceTemplatePlaceholders = function( replaceArr ) {\n\t\t// replaceArr = [ [ find, replace ], ... ]\n\n\t\tvar $template = $( this );\n\n\t\tfor ( var i = 0; i < replaceArr.length; i++ ) {\n        \tvar replaceString = '{{ ' + replaceArr[ i ][ 0 ] + ' }}';\n        \tvar regex = new RegExp( replaceString, 'g' );\n\t\t\t$template.html( $template.html().replace( regex, replaceArr[ i ][ 1 ] ) );\n\t\t}\n\n\t\treturn $template;\n\n\t}\n\n\t// check current config for candidates or votes\n\t_checkElectionConfigCandidatesOrVotes = function( keyIndex, i, j ) {\n\t\t// get key\n\t\tvar key = Object.keys( currentElectionConfig )[ keyIndex ];\n\n\t\tif ( ! key || typeof i === 'undefined' ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconsole.log( 'key: ' + key + ' – i: ' + i + ' – j: ' + j );\n\n\t\tvar hasCandidates = false;\n\t\tvar hasVotes = false;\n\n\t\t_validCandidatesOrVotes = function( currentCandidatesList ) {\n\n\t\t\t//console.log( '_validCandidatesOrVotes' );\n\n\t\t\tvar missingCandidates = false;\n\t\t\tvar missingVotes = false;\n\n\t\t\tif ( typeof currentCandidatesList !== 'undefined' ) {\n\n\t\t\t\tfor ( var k = 0; k < currentCandidatesList.length; k++ ) {\n\t\t\t\t\t//console.log( 'k: ' + k + ' (' + currentCandidatesList[ k ].candidate.name + ')' );\n\t\t\t\t\tif ( typeof currentCandidatesList[ k ].candidate === 'undefined' ) {\n\t\t\t\t\t\tmissingCandidates = true;\n\t\t\t\t\t\t//console.log( 'missingCandidates: ' + missingCandidates );\n\t\t\t\t\t}\n\t\t\t\t\tif ( \n\t\t\t\t\t\ttypeof currentCandidatesList[ k ].yes === 'undefined' \n\t\t\t\t\t\t|| typeof currentCandidatesList[ k ].no === 'undefined' \n\t\t\t\t\t) {\n\t\t\t\t\t\tmissingVotes = true;\n\t\t\t\t\t\t//console.log( 'missingVotes: ' + missingVotes );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t//console.log( 'all valid' );\n\n\t\t\t\treturn [ ! missingCandidates, ! missingVotes ];\n\t\t\t}\n\t\t\telse {\n\t\t\t\t//console.log( 'nothing – currentCandidatesList: ' + currentCandidatesList );\n\t\t\t\treturn [ false, false ];\n\t\t\t}\n\t\t}\n\n\t\t// get current candidates to check\n\t\tvar candidatesList;\n\n\t\tif (\n\t\t\ttypeof currentElectionConfig[ key ] !== 'undefined'\n\t\t\t&& typeof currentElectionConfig[ key ][ i ] !== 'undefined'\n\t\t\t&& typeof currentElectionConfig[ key ][ i ].candidates !== 'undefined'\n\t\t\t&& currentElectionConfig[ key ][ i ].candidates.length > 0\n\t\t) {\n\t\t\t//console.log( 'candidates object found' );\n\t\t\tif ( typeof j === 'undefined' ) {\n\t\t\t\t//console.log( 'joint' );\n\t\t\t\t// joint election, one candidates list\n\t\t\t\tif (\n\t\t\t\t\ttypeof currentElectionConfig[ key ][ i ].candidates[ 0 ] !== 'undefined'\n\t\t\t\t) {\n\t\t\t\t\tcandidatesList = currentElectionConfig[ key ][ i ].candidates;\n\t\t\t\t\t//console.log( 'candidatesList: ' + candidatesList );\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\t//console.log( 'single' );\n\t\t\t\t// single election, multiple candidates list\n\t\t\t\tif (\n\t\t\t\t\ttypeof currentElectionConfig[ key ][ i ].candidates[ j ] !== 'undefined'\n\t\t\t\t\t&& currentElectionConfig[ key ][ i ].candidates[ j ].length > 0\n\t\t\t\t) {\n\t\t\t\t\tcandidatesList = currentElectionConfig[ key ][ i ].candidates[ j ];\n\t\t\t\t\t//console.log( 'candidatesList: ' + candidatesList );\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\t\tvar result = _validCandidatesOrVotes( candidatesList );\n\n\t\treturn [ result[ 0 ], result[ 1 ] ];\n\n\t}\n\n\t// TODO: not in use\n\t// validate all items\n\tvar validate = [];\n\tvar l = 0;\n\t_validateItems = function() {\n\n\t\tconsole.log( '_validateItems()' );\n\n\t\tfor ( var key in currentElectionConfig ) {\n\n        \tvar keyIndex = Object.keys( currentElectionConfig ).indexOf( key );\n\n        \tfor ( var i = 0; i < currentElectionConfig[ key ].length; i++ ) {\n\n        \t\tif (\n\t\t\t\t\ttypeof currentElectionConfig[ key ] !== 'undefined'\n\t\t\t\t\t&& typeof currentElectionConfig[ key ][ i ] !== 'undefined'\n\t\t\t\t\t&& typeof currentElectionConfig[ key ][ i ].candidates !== 'undefined'\n\t\t\t\t\t//&& currentElectionConfig[ key ][ i ].candidates.length > 0\n\t\t\t\t\t&& typeof currentElectionConfig[ key ][ i ].candidates[ 0 ] !== 'undefined'\n\t\t\t\t\t//&& currentElectionConfig[ key ][ i ].candidates[ 0 ].length > 0\n        \t\t) {\n\n\t        \t\t// check joint or single\n\t        \t\tif (\n\t\t\t\t\t\ttypeof currentElectionConfig[ key ][ i ].candidates[ 0 ].candidate !== 'undefined'\n\t        \t\t) {\n\t        \t\t\t// joint, has candidate\n\t        \t\t\tconsole.log( 'joint, has candidate' );\n\n\t        \t\t}\n\t        \t\telse if (\n\t\t\t\t\t\ttypeof currentElectionConfig[ key ][ i ].candidates[ 0 ][ 0 ] !== 'undefined'\n\t\t\t\t\t\t//&& currentElectionConfig[ key ][ i ].candidates[ 0 ][ 0 ].length > 0\n\t\t\t\t\t\t&& typeof currentElectionConfig[ key ][ i ].candidates[ 0 ][ 0 ].candidate !== 'undefined'\n\t        \t\t) {\n\t        \t\t\t// single, has candidate\n\t        \t\t\tfor ( var j = 0; j < currentElectionConfig[ key ][ i ].candidates.length; j++ ) {\n\t        \t\t\t\tconsole.log( 'single' );\n\t        \t\t\t\tif (\n\t\t\t\t\t\t\t\ttypeof currentElectionConfig[ key ][ i ].candidates[ j ][ 0 ] !== 'undefined'\n\t\t\t\t\t\t\t\t&& typeof currentElectionConfig[ key ][ i ].candidates[ j ][ 0 ].candidate !== 'undefined'\n\t        \t\t\t\t) {\n\t        \t\t\t\t\tconsole.log( j + ' has candidate' );\n\t        \t\t\t\t}\n\t        \t\t\t\telse {\n\t        \t\t\t\t\tconsole.log( j + ' has no candidate' );\n\t        \t\t\t\t}\n\t        \t\t\t}\n\n\t        \t\t}\n\t        \t\telse {\n\t        \t\t\t// has no candidates\n\t        \t\t\tconsole.log( 'has no candidates 2' );\n\t        \t\t}\n\n        \t\t}\n        \t\telse {\n        \t\t\t// has no candidates\n        \t\t\tconsole.log( 'has no candidates 1' );\n\n        \t\t}\n\n        \t}\n\n\t\t}\n\n\t}\n\n    // add sublist item (candidate list item)\n    $.fn._addSublistItems = function( currentCount, currentItemIndex, currentI, currentJ, currentCandidates ) {\n\n    \tvar newItemsCount = currentCount || 1;\n    \tvar electionGroupIndex = currentItemIndex;\n    \tvar electionIndex = currentI;\n    \tvar singleElectionIndex = currentJ;\n    \tvar candidates = ( typeof singleElectionIndex !== 'undefined' && currentCandidates ) ? currentCandidates[ singleElectionIndex ] : currentCandidates;\n    \t\n    \tvar step = 1;\n    \tvar $item = $( this );\n    \tvar $subitemTemplate = Utils.$targetElems.filter( subitemTemplateIdentifierPrefix + step + identifierSuffix );\n    \tvar $subitemAppend = $item.find( subitemAppendIdentifierPrefix + step + identifierSuffix );\n\n    \t// get start index from last item attr since any items may have been deleted\n    \tvar $lastExistingSubitem = $item.find( '[' + subitemIdAttr + ']' ).last();\n    \tvar startIndex = 0;\n    \tif ( $lastExistingSubitem.length > 0 ) {\n    \t\tstartIndex = parseInt( $lastExistingSubitem.attr( subitemIdAttr ) ) + 1;\n    \t}\n    \t\n    \tfor ( var i = 0; i < newItemsCount; i++ ) {\n    \t\tvar currentIndex = startIndex + i;\n\n    \t\t// build subitem\n    \t\tvar $subitemClone = $subitemTemplate.clone();\n\n    \t\t$subitemClone\n    \t\t\t._replaceTemplatePlaceholders( [ \n    \t\t\t\t[ 'index', currentIndex ] \n    \t\t\t] )\n    \t\t\t.removeAttr( 'style data-tg' )\n    \t\t\t.attr( subitemIdentifierAttr, subitemIdentifierAttrVal )\n    \t\t\t.attr( subitemIdAttr, currentIndex )\n    \t\t\t.show()\n    \t\t\t.find( subitemRemoveIdentifier )\n\t\t\t\t.on( 'click', function( event ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tvar $subitem = $( this ).closest( '[' + subitemIdentifierAttr + '=\"' + subitemIdentifierAttrVal + '\"]' );\n\t\t\t\t\tvar $confirmDeleteInputs = $subitem.find( 'input[' + confirmDeleteInputAttr + ']' );\n\t\t\t\t\tif ( $confirmDeleteInputs.length > 0 ) {\n\t\t\t\t\t\tvar deleteStop = false;\n\t\t\t\t\t\t$confirmDeleteInputs.each( function() {\n\t\t\t\t\t\t\t$input = $( this );\n\t\t\t\t\t\t\tif ( $input.val() != '' ) {\n\t\t\t\t\t\t\t\tdeleteStop = true;\n    \t\t\t\t\t\t\t$input\n    \t\t\t\t\t\t\t\t.addClass( confirmDeleteInputClass )\n    \t\t\t\t\t\t\t\t.on( 'focus', function() {\n    \t\t\t\t\t\t\t\t\t$( this ).removeClass( confirmDeleteInputClass );\n    \t\t\t\t\t\t\t\t} )\n    \t\t\t\t\t\t\t;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tif ( ! deleteStop ) {\n\t\t\t\t\t\t\t$subitem.remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t$subitem.remove();\n\t\t\t\t\t}\n\t\t\t\t} )\n\t\t\t;\n\n    \t\t// name subitem inputs\n    \t\tfor ( var inputKey in subitemInputs[ step ] ) {\n    \t\t\tvar $input = $subitemClone.find( subitemInputs[ step ][ inputKey ].selector );\n    \t\t\t// get item id for input naming\n    \t\t\tvar itemId = $item.attr( itemIdAttr );\n    \t\t\tif ( $input.length > 0 ) {\n    \t\t\t\t$input\n    \t\t\t\t\t.attr( formIdentifierAttr, subitemInputs[ step ][ inputKey ].name + itemId + inputIdentifierSeparator + currentIndex )\n    \t\t\t\t\t.attr( 'value', subitemInputs[ step ][ inputKey ].value )\n    \t\t\t\t;\n    \t\t\t\tif ( subitemInputs[ step ][ inputKey ].confirmSubitemDelete ) {\n    \t\t\t\t\t$input.attr( confirmDeleteInputAttr, '' );\n    \t\t\t\t}\n    \t\t\t}\n    \t\t}\n\n\t\t\t// fill if pre configured\n\t\t\tif ( candidates && candidates[ i ] && candidates[ i ].candidate ) {\n\t\t\t\tif ( candidates[ i ].candidate.name && candidates[ i ].candidate.name != '' ) {\n\t\t\t\t\t$subitemClone.find( 'input[name^=\"name\"]' ).val( candidates[ i ].candidate.name );\n\t\t\t\t}\n\t\t\t\tif ( candidates[ i ].candidate.female ) {\n\t\t\t\t\t$subitemClone.find( 'input[name^=\"female\"]' ).attr( 'checked', '' );\n\t\t\t\t}\n\t\t\t\tif ( candidates[ i ].candidate.diverse ) {\n\t\t\t\t\t$subitemClone.find( 'input[name^=\"diverse\"]' ).attr( 'checked', '' );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// append subitem\n\t\t\t$subitemClone.appendTo( $subitemAppend );\n\n    \t}\n    }\n\n    // validate number input\n\t$.fn._validateNumberInput = function() {\n\n\t\tvar $subitemClone = $( this );\n\t\tvar $input = $subitemClone.find( validateNumberInputIdentifier );\n\n\t\tif ( $input.length > 0 ) {\n\n\t\t\tvar $target = $subitemClone.find( $input.attr( 'data-g-tg' ) );\n\n\t\t\t$input.on( 'change keyup', function() {\n\n\t\t\t\tvar $input = $( this );\n\n\t\t\t\t// limit election count value\n\t\t\t\tvar min = parseInt( $input.attr( 'min' ) );\n\t\t\t\tvar max = parseInt( $input.attr( 'max' ) );\n\t\t\t\tvar value = $input.val();\n\t\t\t\tconsole.log( 'min: ' + min + ' – max: ' + max );\n\t\t\t\tif ( ( typeof min !== 'NaN' || typeof man !== 'NaN' ) && value != '' ) {\n\t\t\t\t\tif ( typeof min !== 'NaN' && value < min ) {\n\t\t\t\t\t\t$input.val( min );\n\t\t\t\t\t}\n\t\t\t\t\telse if ( typeof man !== 'NaN' && value > max ) {\n\t\t\t\t\t\t$input.val( max );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ( $target.length > 0 ) {\n\t\t\t\t\t// show / hide joint election checkbox\n\t\t\t\t\tif ( value > 1 ) {\n\t\t\t\t\t\t$target.show();\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t$target.hide();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\n\t\t}\n\n\t}\n\n\t$.fn._getFormValues = function( currentIdentifierAttr ) {\n\n\t\tvar $form = $( this );\n\t\tvar values = {};\n\t\tvar identifierAttr = currentIdentifierAttr || 'name';\n\n\t\t$form.find( 'input[' + identifierAttr + '], select[' + identifierAttr + '], textarea[' + identifierAttr + ']' ).each( function( i, elem ) {\n\n\t\t\tvar $input = $( elem );\n\n\t\t\tif ( $input.attr( 'type' ) == 'radio' ) {\n\t\t\t\t// radio requires identifier 'name'\n\t\t\t\tif ( $input.is( ':checked' ) ) {\n\t\t\t\t\tvalues[ $input.attr( identifierAttr ) ] = $input.val();\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if ( $input.attr( 'type' ) == 'checkbox' ) {\n\t\t\t\tvalues[ $input.attr( identifierAttr ) ] = ( $input.is( ':checked' ) ) ? $input.val() : null;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvalues[ $input.attr( identifierAttr ) ] = $input.val();\n\t\t\t}\n\t\t});\n\n\t\treturn values;\n\t}\n\n\t_filterMatchingIndexes = function( indexes, startString ) {\n\t\tvar matchingIndexes = [];\n\t\tfor ( var i = 0; i < indexes.length; i++ ) {\n\t\t\tif ( indexes[ i ].indexOf( startString ) === 0 ) {\n\t\t\t\tmatchingIndexes.push( indexes[ i ] );\n\t\t\t}\n\t\t}\n\t\treturn matchingIndexes;\n\t}\n\n\t/*\n\n\t@Felix: \n\n\t- in die folgende Funktion kann die Berechnung der Ergebnisse eingefügt werden\n\t- \"explanation\" habe ich erstmal weggelassen, da die Ergebnisse von der Oberlfäche ohnehin angezeigt werden, und ich gerne Daten und Oberflächenstruktur voneinander trennen würde\n\n\n\t(FALL 1: gemeinsame Wahl -> \"joint\" == true bzw. typeof \"current\" === 'string' )\n\n\tinput = {\n\t\t\"structure\": [\n\t\t\t{\n\t\t\t\t\"name\": \"Vorsitzende\",\n\t\t\t\t\"count\": 2,\n\t\t\t\t\"joint\": true\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"Schatzmeister*in\",\n\t\t\t\t\"count\": 1\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"weitere Mitglieder\",\n\t\t\t\t\"count\": 2,\n\t\t\t\t\"joint\": true,\n\t\t\t\t\"overall\": true\n\t\t\t}\n\t\t],\n\t\t\"current\": \"weitere Mitglieder\",\n\t\t\"previous\": [\n\t\t\t{\n\t\t\t\t\"candidate\": {\n\t\t\t\t\t\"name\": \"Lina Limone\",\n\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\"diverse\": false\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"candidate\": {\n\t\t\t\t\t\"name\": \"Manfred Mango\",\n\t\t\t\t\t\"female\": false,\n\t\t\t\t\t\"diverse\": false\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"candidate\": {\n\t\t\t\t\t\"name\": \"Melly Melone\",\n\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\"diverse\": false\n\t\t\t\t}\n\t\t\t}\n\t\t],\n\t\t\"candidates\": [\n\t\t\t{\n\t\t\t\t\"candidate\": {\n\t\t\t\t\t\"name\": \"Maria Maracuja\",\n\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\"diverse\": true\n\t\t\t\t},\n\t\t\t\t\"yes\": 10,\n\t\t\t\t\"no\": 0\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"candidate\": {\n\t\t\t\t\t\"name\": \"Bernard Banane\",\n\t\t\t\t\t\"female\": false,\n\t\t\t\t\t\"diverse\": false\n\t\t\t\t},\n\t\t\t\t\"yes\": 12,\n\t\t\t\t\"no\": 1\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"candidate\": {\n\t\t\t\t\t\"name\": \"Kira Kirsch-Banane\",\n\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\"diverse\": false\n\t\t\t\t},\n\t\t\t\t\"yes\": 18,\n\t\t\t\t\"no\": 2\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"candidate\": {\n\t\t\t\t\t\"name\": \"Alfred Apfel\",\n\t\t\t\t\t\"female\": false,\n\t\t\t\t\t\"diverse\": true\n\t\t\t\t},\n\t\t\t\t\"yes\": 15,\n\t\t\t\t\"no\": 3\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"candidate\": {\n\t\t\t\t\t\"name\": \"Anna Ananas\",\n\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\"diverse\": true\n\t\t\t\t},\n\t\t\t\t\"yes\": 12,\n\t\t\t\t\"no\": 4\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"candidate\": {\n\t\t\t\t\t\"name\": \"Cora Cocos\",\n\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\"diverse\": false\n\t\t\t\t},\n\t\t\t\t\"yes\": 7,\n\t\t\t\t\"no\": 1\n\t\t\t}\n\t\t]\n\t}\n\n\t(FALL 2: einzelne Wahl -> \"joint\" != true bzw. typeof \"current\" === 'object')\n\n\tinput = {\n\t\t\"structure\": [\n\t\t\t{\n\t\t\t\t\"name\": \"Vorsitzende\",\n\t\t\t\t\"count\": 2,\n\t\t\t\t\"joint\": false\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"Schatzmeister*in\",\n\t\t\t\t\"count\": 1\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"weitere Mitglieder\",\n\t\t\t\t\"count\": 2,\n\t\t\t\t\"joint\": false,\n\t\t\t\t\"overall\": true\n\t\t\t}\n\t\t],\n\t\t\"current\": [\n\t\t\t\"weitere Mitglieder\",\n\t\t\t0\n\t\t],\n\t\t\"previous\": [\n\t\t\t{\n\t\t\t\t\"candidate\": {\n\t\t\t\t\t\"name\": \"Lina Limone\",\n\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\"diverse\": false\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"candidate\": {\n\t\t\t\t\t\"name\": \"Manfred Mango\",\n\t\t\t\t\t\"female\": false,\n\t\t\t\t\t\"diverse\": false\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"candidate\": {\n\t\t\t\t\t\"name\": \"Melly Melone\",\n\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\"diverse\": false\n\t\t\t\t}\n\t\t\t}\n\t\t],\n\t\t\"candidates\": [\n\t\t\t{\n\t\t\t\t\"candidate\": {\n\t\t\t\t\t\"name\": \"Maria Maracuja\",\n\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\"diverse\": true\n\t\t\t\t},\n\t\t\t\t\"yes\": 10,\n\t\t\t\t\"no\": 0\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"candidate\": {\n\t\t\t\t\t\"name\": \"Bernard Banane\",\n\t\t\t\t\t\"female\": false,\n\t\t\t\t\t\"diverse\": false\n\t\t\t\t},\n\t\t\t\t\"yes\": 12,\n\t\t\t\t\"no\": 1\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"candidate\": {\n\t\t\t\t\t\"name\": \"Kira Kirsch-Banane\",\n\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\"diverse\": false\n\t\t\t\t},\n\t\t\t\t\"yes\": 18,\n\t\t\t\t\"no\": 2\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"candidate\": {\n\t\t\t\t\t\"name\": \"Alfred Apfel\",\n\t\t\t\t\t\"female\": false,\n\t\t\t\t\t\"diverse\": true\n\t\t\t\t},\n\t\t\t\t\"yes\": 15,\n\t\t\t\t\"no\": 3\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"candidate\": {\n\t\t\t\t\t\"name\": \"Anna Ananas\",\n\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\"diverse\": true\n\t\t\t\t},\n\t\t\t\t\"yes\": 12,\n\t\t\t\t\"no\": 4\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"candidate\": {\n\t\t\t\t\t\"name\": \"Cora Cocos\",\n\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\"diverse\": false\n\t\t\t\t},\n\t\t\t\t\"yes\": 7,\n\t\t\t\t\"no\": 1\n\t\t\t}\n\t\t]\n\t}\n\n\toutput = [\n\t\t{\n\t\t\t\"candidate\": {\n\t\t\t\t\"name\": \"Kira Kirsch-Banane\",\n\t\t\t\t\"female\": true,\n\t\t\t\t\"diverse\": false\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"candidate\": {\n\t\t\t\t\"name\": \"Alfred Apfel\",\n\t\t\t\t\"female\": false,\n\t\t\t\t\"diverse\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"candidate\": {\n\t\t\t\t\"name\": \"Anna Ananas\",\n\t\t\t\t\"female\": true,\n\t\t\t\t\"diverse\": true\n\t\t\t}\n\t\t}\n\t]\n\n\t*/\n\t_calculateElectionResult = function( input ) {\n\t\t\n\t\tvar output;\n\n\t\t//console.log( '_calculateElectionResult – input: ' + JSON.stringify( input, null, 2 ) );\n\t\t\n\t\t// do magic here...\n\n\n\n\t\t// TEST – TODO: delete\n\t\toutput = ( typeof input.current === 'string' ) ?\t [\n\t\t\t{\n\t\t\t\t\"candidate\": {\n\t\t\t\t\t\"name\": \"Kira Kirsch-Banane\",\n\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\"diverse\": false\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"candidate\": {\n\t\t\t\t\t\"name\": \"Alfred Apfel\",\n\t\t\t\t\t\"female\": false,\n\t\t\t\t\t\"diverse\": true\n\t\t\t\t}\n\t\t\t}\n\t\t] : [\n\t\t\t{\n\t\t\t\t\"candidate\": {\n\t\t\t\t\t\"name\": \"Lina Limone\",\n\t\t\t\t\t\"female\": true,\n\t\t\t\t\t\"diverse\": false\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\t\t// /TEST\n\n\n\n\t\treturn output;\n\t}\n\n\t_getElectionResult = function() {\n\n\t\t// election groups\n\t\tfor ( var key in currentElectionConfig ) {\n\n\t\t\t// fill electionCalculationInput\n\t\t\tvar electionCalculationInput = {\n\t\t\t\t\"structure\": [],\n\t\t\t\t\"current\": '',\n\t\t\t\t\"previous\": [],\n\t\t\t\t\"candidates\": []\n\t\t\t};\n\t\t\tvar copyIfSet = [\n\t\t\t\t'name',\n\t\t\t\t'count',\n\t\t\t\t'joint',\n\t\t\t\t'overall'\n\t\t\t];\n\t\t\tfor ( var i = 0; i < currentElectionConfig[ key ].length; i++ ) {\n\t\t\t\telectionCalculationInput.structure.push( {} );\n\n\t\t\t\tfor ( var k = 0; k < copyIfSet.length; k++ ) {\n\t\t\t\t\tif ( typeof currentElectionConfig[ key ][ i ][ copyIfSet[ k ] ] !== 'undefined' ) {\n\t\t\t\t\t\telectionCalculationInput.structure[ i ][ copyIfSet[ k ] ] = currentElectionConfig[ key ][ i ][ copyIfSet[ k ] ];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n        \t// elections within group\n\t\t\tfor ( var i = 0; i < currentElectionConfig[ key ].length; i++ ) {\n\n\t\t\t\t_setPrevious = function() {\n\t\t\t\t\tif ( i === 0 ) {\n\t\t\t\t\t\t// reset previous at fist election within election group\n\t\t\t\t\t\telectionCalculationInput.previous = [];\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t// all following elections if results copy into previous\n\t\t\t\t\t\tvar previousI = i - 1;\n\t\t\t\t\t\tif ( typeof currentElectionConfig[ key ][ previousI ].results !== 'undefined' && currentElectionConfig[ key ][ previousI ].results.length > 0 ) {\n\t\t\t\t\t\t\tfor ( var k = 0; k < currentElectionConfig[ key ][ previousI ].results.length; k++ ) {\n\t\t\t\t\t\t\t\telectionCalculationInput.previous.push( currentElectionConfig[ key ][ previousI ].results[ k ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// TODO: use new function _checkElectionConfigCandidatesOrVotes()\n\n\t\t\t\t// check if votes\n\t\t\t\tvar voteFound = false;\n\t\t\t\tvar missingVoteFound = false;\n\t\t\t\tif (\n\t\t\t\t\ttypeof currentElectionConfig[ key ][ i ] !== 'undefined'\n\t\t\t\t\t&& typeof currentElectionConfig[ key ][ i ].candidates !== 'undefined'\n\t\t\t\t\t&& currentElectionConfig[ key ][ i ].candidates.length > 0\n\t\t\t\t\t&& typeof currentElectionConfig[ key ][ i ].candidates[ 0 ].candidate !== 'undefined'\n\t\t\t\t) {\n\t\t\t\t\t// election joint, one candidates list\n\n\t\t\t\t\t// check if all candidates have valid votes\n\t\t\t\t\tfor ( var k = 0; k < currentElectionConfig[ key ][ i ].candidates.length; k++ ) {\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\ttypeof currentElectionConfig[ key ][ i ].candidates[ k ].yes !== 'undefined'\n\t\t\t\t\t\t\t&& typeof currentElectionConfig[ key ][ i ].candidates[ k ].no !== 'undefined'\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tvoteFound = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tmissingVoteFound = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// call _calculateElectionResult (one time)\n\n\t\t\t\t\t// if all votes valid call election tool\n\t\t\t\t\tif ( voteFound && ! missingVoteFound ) {\n\n\t\t\t\t\t\t// fill electionCalculationInput\n\t\t\t\t\t\telectionCalculationInput.current = currentElectionConfig[ key ][ i ].name;\n\t\t\t\t\t\t_setPrevious();\n\t\t\t\t\t\telectionCalculationInput.candidates = currentElectionConfig[ key ][ i ].candidates;\n\n\t\t\t\t\t\t// call election tool\n\t\t\t\t\t\tvar electionCalculationOutput = _calculateElectionResult( electionCalculationInput );\n\t\t\t\t\t\tif ( electionCalculationOutput ) {\n\t\t\t\t\t\t\t// copy results into currentElectionConfig\n\t\t\t\t\t\t\tcurrentElectionConfig[ key ][ i ].results = electionCalculationOutput;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\telse if (\n\t\t\t\t\ttypeof currentElectionConfig[ key ][ i ] !== 'undefined'\n\t\t\t\t\t&& typeof currentElectionConfig[ key ][ i ].candidates !== 'undefined'\n\t\t\t\t\t&& currentElectionConfig[ key ][ i ].candidates.length > 0\n\t\t\t\t\t&& typeof currentElectionConfig[ key ][ i ].candidates[ 0 ].candidate === 'undefined'\n\t\t\t\t\t&& currentElectionConfig[ key ][ i ].candidates[ 0 ].length > 0\n\t\t\t\t\t&& typeof currentElectionConfig[ key ][ i ].candidates[ 0 ][ 0 ].candidate !== 'undefined'\n\t\t\t\t) {\n\t\t\t\t\t// election single, multiple candidates lists\n\n\t\t\t\t\t// fill electionCalculationInput\n\t\t\t\t\t_setPrevious();\n\n\t\t\t\t\tfor ( var j = 0; j < currentElectionConfig[ key ][ i ].candidates.length; j++ ) {\n\n\t\t\t\t\t\t// check if all candidates have valid votes\n\t\t\t\t\t\tfor ( var k = 0; k < currentElectionConfig[ key ][ i ].candidates[ j ].length; k++ ) {\n\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\ttypeof currentElectionConfig[ key ][ i ].candidates[ j ][ k ].yes !== 'undefined'\n\t\t\t\t\t\t\t\t&& typeof currentElectionConfig[ key ][ i ].candidates[ j ][ k ].no !== 'undefined'\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tvoteFound = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tmissingVoteFound = true;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// call _calculateElectionResult each single election\n\n\t\t\t\t\t\t// if all votes valid call election tool\n\t\t\t\t\t\tif ( voteFound && ! missingVoteFound ) {\n\n\t\t\t\t\t\t\t// fill electionCalculationInput\n\t\t\t\t\t\t\telectionCalculationInput.current = [ currentElectionConfig[ key ][ i ].name, j ];\n\t\t\t\t\t\t\t// if still no results define results\n\t\t\t\t\t\t\tif ( j === 0 ) {\n\t\t\t\t\t\t\t\tcurrentElectionConfig[ key ][ i ].results = [];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telectionCalculationInput.candidates = currentElectionConfig[ key ][ i ].candidates[ j ];\n\n\t\t\t\t\t\t\t// call election tool\n\t\t\t\t\t\t\tvar electionCalculationOutput = _calculateElectionResult( electionCalculationInput );\n\t\t\t\t\t\t\tif ( electionCalculationOutput ) {\n\t\t\t\t\t\t\t\t// copy results into currentElectionConfig\n\t\t\t\t\t\t\t\tcurrentElectionConfig[ key ][ i ].results.push( electionCalculationOutput[ 0 ] );\n\t\t\t\t\t\t\t\telectionCalculationInput.previous.push( electionCalculationOutput[ 0 ] );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// TEST: set test result\n\t\t//currentElectionConfig = $.extend( {}, currentElectionConfig, testElectionResult );\n\n\t\t// if election result return true\n\t\treturn ( electionCalculationOutput ) ? true : false;\n\t}\n\n\t// get config step 0\n\t$.fn._getElectionCurrentConfig_0 = function() {\n\n\t\t// TODO: what if changing count while preconfigured single elections lists\n\n\t\tvar step = 0;\n\n\t\tcurrentElectionConfig = ( typeof currentElectionPreset !== 'undefined' ) ? $.extend( {}, electionConfig, currentElectionPreset ) : $.extend( {}, electionConfig );\n\n\t\tvar $form = $( this );\n\n\t\tvar values = $form._getFormValues( formIdentifierAttr );\n        var deleteKeys = [];\n\n\t\tfor ( var key in currentElectionConfig ) {\n\t\t\t// get selected election types\n\n        \tvar itemIndex = Object.keys( currentElectionConfig ).indexOf( key );\n        \tvar value = values[ itemInputs[ step ].check.name + itemIndex ];\n\n        \tif ( value === null ) {\n        \t\t// remember non selected items, delete later\n        \t\tdeleteKeys.push( key );\n        \t}\n        \telse {\n        \t\t// get values of selected items\n\n\t        \tfor ( var subitemIndex = 0; subitemIndex < currentElectionConfig[ key ].length; subitemIndex++ ) {\n\n\t        \t\tvar count = values[ subitemInputs[ step ].count.name + itemIndex + inputIdentifierSeparator + subitemIndex ];\n\t        \t\tif ( !! count ) {\n\t        \t\t\tcount = parseInt( count );\n\t        \t\t}\n\t        \t\tvar joint = values[ subitemInputs[ step ].joint.name + itemIndex + inputIdentifierSeparator + subitemIndex ];\n\t        \t\tif ( !! joint ) {\n\t        \t\t\tjoint = JSON.parse( joint );\n\t        \t\t}\n\n\t\t        \tif ( count != null ) {\n\t\t        \t\tcurrentElectionConfig[ key ][ subitemIndex ].count = count;\n\t\t        \t}\n\t\t        \telse {\n\t\t        \t\tcount = currentElectionConfig[ key ][ subitemIndex ].count;\n\t\t        \t}\n\n\t\t        \tif ( joint != null ) {\n\t\t        \t\tcurrentElectionConfig[ key ][ subitemIndex ].joint = true;\n\t\t        \t}\n\t\t        \telse if ( count > 1 ) {\n\t\t        \t\tcurrentElectionConfig[ key ][ subitemIndex ].joint = false;\n\t\t        \t}\n\n\t        \t\t// reset existing candidates if change of 'joint'\n\t        \t\tif ( count > 1 && ! joint ) {\n\t        \t\t\t// make candidates groups – try delete election candidates (one group)\n\t\t        \t\tif ( \n\t\t        \t\t\t\ttypeof currentElectionConfig[ key ][ subitemIndex ].candidates !== 'undefined'\n\t\t        \t\t\t\t&& typeof currentElectionConfig[ key ][ subitemIndex ].candidates[ 0 ] !== 'undefined'\n\t\t        \t\t\t\t&& typeof currentElectionConfig[ key ][ subitemIndex ].candidates[ 0 ].candidate !== 'undefined'\n\t\t        \t\t\t) {\n\t\t        \t\t\t// delete multiple candidates lists\n\t\t        \t\t\tdelete currentElectionConfig[ key ][ subitemIndex ][ 'candidates' ];\n\t\t        \t\t}\n\t        \t\t}\n\t        \t\telse {\n\t        \t\t\t// make one group – try delete single election candidates groups\n\t\t        \t\tif ( \n\t\t        \t\t\t\ttypeof currentElectionConfig[ key ][ subitemIndex ].candidates !== 'undefined'\n\t\t        \t\t\t\t&& typeof currentElectionConfig[ key ][ subitemIndex ].candidates[ 0 ] !== 'undefined'\n\t\t        \t\t\t\t&& typeof currentElectionConfig[ key ][ subitemIndex ].candidates[ 0 ][ 0 ] !== 'undefined'\n\t\t        \t\t\t\t&& typeof currentElectionConfig[ key ][ subitemIndex ].candidates[ 0 ][ 0 ].candidate !== 'undefined'\n\t\t        \t\t\t) {\n\t\t        \t\t\t// delete multiple candidates lists\n\t\t        \t\t\tdelete currentElectionConfig[ key ][ subitemIndex ][ 'candidates' ];\n\t\t        \t\t}\n\t        \t\t}\n\n\t        \t}\n\n        \t}\n\n\t\t}\n\n    \t// delete non selected items\n    \tfor ( var i = 0; i < deleteKeys.length; i++ ) {\n    \t\tdelete currentElectionConfig[ deleteKeys[ i ] ];\n    \t}\n\n\t\t//console.log( 'config step 0 (currentElectionConfig): ' + JSON.stringify( currentElectionConfig, null, 2 ) );\n\n\t}\n\n\t// get config step 1\n\t$.fn._getElectionCurrentConfig_1 = function() {\n\n\t\t// TODO: check if configuration change of election joint (reset candidates or merge existing candidates?)\n\t\t// joint: true || undefined\n\n\t\tvar step = 1;\n\n\t\tvar $form = $( this );\n\n\t\t_isValidCandidate = function( nameKey ) {\n\t\t\treturn ( typeof values[ nameKey ] !== 'undefined' && values[ nameKey ] !== null && values[ nameKey ] !== '' );\n\t\t}\n        \n\t\t_getCandidate = function( nameKey ) {\n\t\t\tvar name = values[ nameKey ];\n\t\t\tvar female = values[ nameKey.replace( nameStart_name, nameStart_female ) ] || false;\n\t\t\tvar diverse = values[ nameKey.replace( nameStart_name, nameStart_diverse ) ] || false; \n\t\t\t\n\t\t\treturn {\n\t\t\t\t[ subitemInputs[ step ][ 'name' ].saveAs ]: name,\n\t\t\t\t[ subitemInputs[ step ][ 'female' ].saveAs ]: female,\n\t\t\t\t[ subitemInputs[ step ][ 'diverse' ].saveAs ]: diverse\n\t\t\t};\n\n\t\t}\n\n\t\tvar values = $form._getFormValues( formIdentifierAttr );\n\n        // election groups\n        for ( var key in currentElectionConfig ) {\n\n        \tvar itemIndex = Object.keys( currentElectionConfig ).indexOf( key );\n\t        var electionGroup = key;\n\n        \t// elections within group\n\t\t\tfor ( var i = 0; i < currentElectionConfig[ key ].length; i++ ) {\n\n\t\t\t\t// reset candidates\n\t\t\t\t//if ( typeof currentElectionConfig[ key ][ i ][ 'candidates' ] === 'undefined' ) {\n\t\t\t\tcurrentElectionConfig[ key ][ i ][ 'candidates' ] = [];\n\t\t\t\t//}\n\n\t        \tvar election = currentElectionConfig[ key ][ i ].name;\n\n\t        \tvar electionCount = parseInt( currentElectionConfig[ key ][ i ].count );\n\t        \tvar electionJoint = currentElectionConfig[ key ][ i ].joint;\n\t\t\t\tvar valuesKeys = Object.keys( values );\n\n\t\t\t\tvar nameStart_name = subitemInputs[ step ][ 'name' ].name;\n\t\t\t\tvar nameStart_female = subitemInputs[ step ][ 'female' ].name;\n\t\t\t\tvar nameStart_diverse = subitemInputs[ step ][ 'diverse' ].name;\n\t\t\t\tvar nameIndexes;\n\t\t\t\tvar matchingKeys;\n\n\t\t        if ( electionCount === 1 || electionJoint === true ) {\n\t        \t\t// make (one) candidates list\n\t        \t\tvar $item = $form.find( '[' + itemIdAttr + '=\"' + itemIndex + inputIdentifierSeparator + i + '\"]' );\n\t        \t\tvar $subitems = $item.find( '[' + subitemIdAttr + ']' );\n\n\t        \t\t// get all candidates from list\n\t\t\t\t\tnameIndexes = itemIndex + inputIdentifierSeparator + i + inputIdentifierSeparator;\n\t\t\t\t\tmatchingKeys = _filterMatchingIndexes( valuesKeys, nameStart_name + nameIndexes );\n\n\t\t\t\t\tvar reduceIndex = 0;\n\t\t\t\t\tfor ( var k = 0; k < matchingKeys.length; k++ ) {\n\n\t\t\t\t\t\tif ( _isValidCandidate( matchingKeys[ k ] ) ) {\n\n\t        \t\t\t\tvar candidate = _getCandidate( matchingKeys[ k ] );\n\n\t        \t\t\t\t// check if already exiting or push\n\t        \t\t\t\tif ( typeof currentElectionConfig[ key ][ i ].candidates === 'undefined' ) {\n\t        \t\t\t\t\tcurrentElectionConfig[ key ][ i ].candidates = [];\n\t        \t\t\t\t}\n\n\t        \t\t\t\tif ( typeof currentElectionConfig[ key ][ i ].candidates[ k - reduceIndex ] === 'undefined' ) {\n\t        \t\t\t\t\tcurrentElectionConfig[ key ][ i ].candidates[ k - reduceIndex ] = {};\n\t        \t\t\t\t}\n\t        \t\t\t\tcurrentElectionConfig[ key ][ i ].candidates[ k - reduceIndex ].candidate = candidate;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\treduceIndex++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t        }\n\t        \telse {\n\t        \t\t// make list of candidates list\n\t        \t\tfor ( var j = 0; j < electionCount; j++ ) {\n\n\t\t\t\t\t\tnameIndexes = itemIndex + inputIdentifierSeparator + i + inputIdentifierSeparator + j + inputIdentifierSeparator;\n\t\t\t\t\t\tmatchingKeys = _filterMatchingIndexes( valuesKeys, nameStart_name + nameIndexes );\n\n\t\t\t\t\t\tcurrentElectionConfig[ key ][ i ].candidates[ j ] = [];\n\n\t\t\t\t\t\tvar reduceIndex = 0;\n\t\t\t\t\t\tfor ( var k = 0; k < matchingKeys.length; k++ ) {\n\n\t\t\t\t\t\t\tif ( _isValidCandidate( matchingKeys[ k ] ) ) {\n\t\t\t\t\t\t\t\t\n\t\t        \t\t\t\tvar candidate = _getCandidate( matchingKeys[ k ] );\n\n\t\t        \t\t\t\t// check if already exiting or push\n\t\t        \t\t\t\t/*if ( typeof currentElectionConfig[ key ][ i ].candidates === 'undefined' ) {\n\t\t        \t\t\t\t\tcurrentElectionConfig[ key ][ i ].candidates = [];\n\t\t        \t\t\t\t}\n\t\t        \t\t\t\tif ( typeof currentElectionConfig[ key ][ i ].candidates[ j ] === 'undefined' ) {\n\t\t        \t\t\t\t\tcurrentElectionConfig[ key ][ i ].candidates[ j ] = [];\n\t\t        \t\t\t\t}*/\n\n\t\t        \t\t\t\tif ( typeof currentElectionConfig[ key ][ i ].candidates[ j ][ k - reduceIndex ] === 'undefined' ) {\n\t\t        \t\t\t\t\tcurrentElectionConfig[ key ][ i ].candidates[ j ][ k - reduceIndex ] = {};\n\t\t        \t\t\t\t}\n\t\t        \t\t\t\tcurrentElectionConfig[ key ][ i ].candidates[ j ][ k - reduceIndex ].candidate = candidate;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\treduceIndex++;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\t        \t\t}\n\t        \t}\n\n\t        }\n\n        }\n\n\t\t//console.log( 'config step 1 (currentElectionConfig): ' + JSON.stringify( currentElectionConfig, null, 2 ) );\n\n\t}\n\n\t// get config step 2\n\t$.fn._getElectionCurrentConfig_2 = function() {\n\n\t\tvar step = 2;\n\n\t\tvar $form = $( this );\n\n\t\tvar values = $form._getFormValues( formIdentifierAttr );\n\n        // election groups\n        for ( var key in currentElectionConfig ) {\n\n        \tvar itemIndex = Object.keys( currentElectionConfig ).indexOf( key );\n\t        var electionGroup = key;\n\n        \t// elections within group\n\t\t\tfor ( var i = 0; i < currentElectionConfig[ key ].length; i++ ) {\n\n\t        \tvar election = currentElectionConfig[ key ][ i ].name;\n\n\t        \tvar electionCount = parseInt( currentElectionConfig[ key ][ i ].count );\n\t        \tvar electionJoint = currentElectionConfig[ key ][ i ].joint;\n\t\t\t\tvar valuesKeys = Object.keys( values );\n\n\t\t\t\tvar nameStart_yes = subitemInputs[ step ].yes.name;\n\t\t\t\tvar nameStart_no = subitemInputs[ step ].no.name;\n\t\t\t\tvar nameIndexes;\n\t\t\t\tvar matchingKeys;\n\n\t\t        if ( electionCount === 1 || electionJoint === true ) {\n\t        \t\t// make (one) candidates list\n\t        \t\tvar $item = $form.find( '[' + itemIdAttr + '=\"' + itemIndex + inputIdentifierSeparator + i + '\"]' );\n\t        \t\tvar $subitems = $item.find( '[' + subitemIdAttr + ']' );\n\n\t        \t\t// get all candidates from list\n\t\t\t\t\tnameIndexes = itemIndex + inputIdentifierSeparator + i + inputIdentifierSeparator;\n\t\t\t\t\tmatchingKeys = _filterMatchingIndexes( valuesKeys, nameStart_yes + nameIndexes );\n\n\t\t\t\t\tfor ( var k = 0; k < matchingKeys.length; k++ ) {\n\n\t\t\t\t\t\tvar yes = values[ matchingKeys[ k ] ] || 0;\n\t\t\t\t\t\tvar no = values[ matchingKeys[ k ].replace( nameStart_yes, nameStart_no ) ] || 0;\n\n        \t\t\t\tcurrentElectionConfig[ key ][ i ].candidates[ k ].yes = yes;\n        \t\t\t\tcurrentElectionConfig[ key ][ i ].candidates[ k ].no = no;\n\t\t\t\t\t}\n\n\t\t        }\n\t        \telse {\n\t        \t\t// make list of candidates list\n\t        \t\tfor ( var j = 0; j < electionCount; j++ ) {\n\t        \t\t\t\n\t\t\t\t\t\tnameIndexes = itemIndex + inputIdentifierSeparator + i + inputIdentifierSeparator + j + inputIdentifierSeparator;\n\t\t\t\t\t\tmatchingKeys = _filterMatchingIndexes( valuesKeys, nameStart_yes + nameIndexes );\n\n\t\t\t\t\t\tfor ( var k = 0; k < matchingKeys.length; k++ ) {\n\n\t\t\t\t\t\t\tvar yes = values[ matchingKeys[ k ] ] || 0;\n\t\t\t\t\t\t\tvar no = values[ matchingKeys[ k ].replace( nameStart_yes, nameStart_no ) ] || 0;\n\n\t        \t\t\t\tcurrentElectionConfig[ key ][ i ].candidates[ j ][ k ].yes = yes;\n\t        \t\t\t\tcurrentElectionConfig[ key ][ i ].candidates[ j ][ k ].no = no;\n\t\t\t\t\t\t}\n\t        \t\t}\n\t        \t}\n\n\t        }\n\n        }\n\n\t\t//console.log( 'config step 2 (currentElectionConfig): ' + JSON.stringify( currentElectionConfig, null, 2) );\n\n\t}\n\n\t// step 3 – results\n    _buildStep_3 = function() {\n\n    \tvar step = 3;\n\n        // item\n        var $itemTemplate = Utils.$targetElems.filter( itemTemplateIdentifierPrefix + step + identifierSuffix );\n        var $itemAppend = Utils.$targetElems.filter( itemAppendIdentifierPrefix + step + identifierSuffix );\n\n        // subitemgroup\n        var $subitemgroupTemplate = Utils.$targetElems.filter( subitemgroupTemplateIdentifierPrefix + step + identifierSuffix );\n\n        // subitem\n        var $subitemTemplate = Utils.$targetElems.filter( subitemTemplateIdentifierPrefix + step + identifierSuffix );\n\n        // empty before fill\n        $itemAppend.empty();\n        \n        // election groups\n        for ( var key in currentElectionConfig ) {\n\n        \tvar itemIndex = Object.keys( currentElectionConfig ).indexOf( key );\n\t        var electionGroup = key;\n\n        \t// clone\n\t\t\tvar $itemClone = $itemTemplate.clone();\n\n\t\t\t$itemClone\n\t\t\t\t.removeAttr( 'data-tg style' )\n    \t\t\t._replaceTemplatePlaceholders( [ \n\t\t\t\t\t[ 'title', electionGroup ], \n\t\t\t\t\t[ 'index', itemIndex ] \n\t\t\t\t] )\n\t\t\t;\n\n\t\t\tvar $subitemgroupAppend = $itemClone.find( subitemgroupAppendIdentifierPrefix + step + identifierSuffix );\n\n        \t// elections within group\n\t\t\tfor ( var i = 0; i < currentElectionConfig[ key ].length; i++ ) {\n\t        \tvar election = currentElectionConfig[ key ][ i ].name;\n\n\t    \t\t// build subitemgroup\n\t    \t\tvar $subitemgroupClone = $subitemgroupTemplate.clone();\n\n\t    \t\t$subitemgroupClone\n\t    \t\t\t._replaceTemplatePlaceholders( [ \n\t    \t\t\t\t[ 'index', i ],\n\t    \t\t\t\t[ 'title', election ]\n\t    \t\t\t] )\n\t    \t\t\t.removeAttr( 'style data-tg' )\n\t    \t\t\t.show()\n\t\t\t\t;\n\n\t        \t// check if results\n\t        \tif ( typeof currentElectionConfig[ key ][ i ].results !== 'undefined' && currentElectionConfig[ key ][ i ].results.length > 0 ) {\n\t        \t\t\n\t\t\t\t\tvar $subitemAppend = $subitemgroupClone.find( subitemAppendIdentifierPrefix + step + identifierSuffix );\n\n\t        \t\tfor ( var k = 0; k < currentElectionConfig[ key ][ i ].results.length; k++ ) {\n\n\t\t        \t\t// clone subitems\n\t\t\t\t\t\tvar $subitemClone = $subitemTemplate.clone();\n\n\t\t\t    \t\tvar candidateName = currentElectionConfig[ key ][ i ].results[ k ].candidate.name || '';\n\n\t\t\t    \t\t$subitemClone\n\t\t\t    \t\t\t._replaceTemplatePlaceholders( [ \n\t\t\t    \t\t\t\t[ 'candidateName', candidateName ]\n\t\t\t    \t\t\t] )\n\t\t\t    \t\t\t.removeAttr( 'style data-tg' )\n\t\t\t    \t\t\t.show()\n\t\t\t\t\t\t;\n\n\t\t\t\t\t\t// append subitem\n\t\t\t\t\t\t$subitemClone.appendTo( $subitemAppend );\n\n\t        \t\t}\n\n\t        \t}\n\n\t\t\t\t// append subitem\n\t\t\t\t$subitemgroupClone.appendTo( $subitemgroupAppend );\n\n\t\t\t}\n\n\t\t\t// append\n        \t$itemClone.appendTo( $itemAppend );\n\n        \t// show results container\n        \tUtils.$targetElems.filter( stepIdentifierPrefix + step + identifierSuffix ).show();\n\n        }\n\n    };\n\n\t// step 2 – results\n    _buildStep_2 = function() {\n\n    \tvar step = 2;\n\n    \t// form\n        var $form = Utils.$functionElems.filter( stepFormIdentifierPrefix + step + identifierSuffix );\n\n        // item\n        var $itemTemplate = Utils.$targetElems.filter( itemTemplateIdentifierPrefix + step + identifierSuffix );\n        var $itemAppend = Utils.$targetElems.filter( itemAppendIdentifierPrefix + step + identifierSuffix );\n\n        // item subitem\n        var $subitemTemplate = Utils.$targetElems.filter( subitemTemplateIdentifierPrefix + step + identifierSuffix );\n\n        // empty before fill\n        $itemAppend.empty();\n\n        // reset select\n        _Nav.$select[ step ]\n        \t.empty()\n        \t.append( selectInitialOption )\n        ;\n        \n        // election groups\n        for ( var key in currentElectionConfig ) {\n\n        \tvar itemIndex = Object.keys( currentElectionConfig ).indexOf( key );\n\t        var electionGroup = key;\n\n\t        // fill select\n\t        //_Nav.$select[ step ].append( '<option value=\"' + itemIndex + '\">' + electionGroup + '</option>' );\n\n        \t// elections within group\n\t\t\tfor ( var i = 0; i < currentElectionConfig[ key ].length; i++ ) {\n\t        \tvar election = currentElectionConfig[ key ][ i ].name;\n\n\t        \tvar electionCount = parseInt( currentElectionConfig[ key ][ i ].count );\n\t        \tvar electionJoint = currentElectionConfig[ key ][ i ].joint;\n\t\t\t\tvar electionCandidates = currentElectionConfig[ key ][ i ].candidates;\n    \t\n\t        \tvar title;\n\n\t        \t_cloneStep_2 = function( currentJ ) {\n\n\t        \t\tvar $itemClone = $itemTemplate.clone();\n\t        \t\tvar j = currentJ;\n\n\t\t\t        // fill select\n\t\t\t        _Nav.$select[ step ].append( '<option value=\"' + itemIndex + inputIdentifierSeparator + i + ( ( typeof j !== 'undefined' ) ? inputIdentifierSeparator + j : '' ) + '\">' + title + '</option>' );\n\n\t\t\t\t\t$itemClone\n\t\t\t\t\t\t.removeAttr( 'data-tg style' )\n\t\t    \t\t\t.attr( itemIdentifierAttr, itemIdentifierAttrVal )\n\t\t    \t\t\t.attr( itemIdAttr, ( typeof j !== 'undefined' ) ? itemIndex + inputIdentifierSeparator + i + inputIdentifierSeparator + j : itemIndex + inputIdentifierSeparator + i )\n\t\t\t\t\t\t._replaceTemplatePlaceholders( [ \n\t\t\t\t\t\t\t[ 'title', title ], \n\t\t\t\t\t\t\t[ 'index', itemIndex ] \n\t\t\t\t\t\t] )\n\t\t\t\t\t;\n\n\t\t\t\t\t// TODO: simplify? (electionCandidates may be undefined)\n    \t\t\t\tvar subitemsCount;\n    \t\t\t\tif ( typeof j !== 'undefined' && typeof electionCandidates !== 'undefined' && typeof electionCandidates[ j ] !== 'undefined' && electionCandidates[ j ].length > 0 ) {\n    \t\t\t\t\tsubitemsCount = electionCandidates[ j ].length;\n    \t\t\t\t}\n    \t\t\t\telse if ( typeof j === 'undefined' && typeof electionCandidates !== 'undefined' && typeof electionCandidates[ 0 ] !== 'undefined' && typeof electionCandidates[ 0 ].candidate !== 'undefined' && electionCandidates.length > 0 ) {\n    \t\t\t\t\tsubitemsCount = electionCandidates.length;\n    \t\t\t\t}\n    \t\t\t\telse {\n    \t\t\t\t\tsubitemsCount = 0;\n    \t\t\t\t}\n\n\t\t\t    \tvar candidates = ( typeof j !== 'undefined' && electionCandidates ) ? electionCandidates[ j ] : electionCandidates;\n\n\t\t\t    \tvar $subitemAppend = $itemClone.find( subitemAppendIdentifierPrefix + step + identifierSuffix );\n\t\t\t    \t\n\t\t\t    \tfor ( var l = 0; l < subitemsCount; l++ ) {\n\n\t\t\t    \t\t// build subitem\n\t\t\t    \t\tvar $subitemClone = $subitemTemplate.clone();\n\n\t\t\t    \t\tvar candidateName = candidates[ l ].candidate.name || '';\n\n\t\t\t    \t\t$subitemClone\n\t\t\t    \t\t\t._replaceTemplatePlaceholders( [ \n\t\t\t    \t\t\t\t[ 'index', subitemsCount ],\n\t\t\t    \t\t\t\t[ 'candidateName', candidateName ]\n\t\t\t    \t\t\t] )\n\t\t\t    \t\t\t.removeAttr( 'style data-tg' )\n\t\t\t    \t\t\t.attr( subitemIdentifierAttr, subitemIdentifierAttrVal )\n\t\t\t    \t\t\t.attr( subitemIdAttr, l )\n\t\t\t    \t\t\t.show()\n\t\t\t\t\t\t\t._validateNumberInput()\n\t\t\t\t\t\t;\n\t\t\t    \t\t// name subitem inputs\n\t\t\t    \t\tfor ( var inputKey in subitemInputs[ step ] ) {\n\t\t\t    \t\t\tvar $input = $subitemClone.find( subitemInputs[ step ][ inputKey ].selector );\n\t\t\t    \t\t\t// get item id for input naming\n\t\t\t    \t\t\tvar itemId = $itemClone.attr( itemIdAttr );\n\t\t\t    \t\t\tif ( $input.length > 0 ) {\n\t\t\t    \t\t\t\t$input\n\t\t\t    \t\t\t\t\t.attr( formIdentifierAttr, subitemInputs[ step ][ inputKey ].name + itemId + inputIdentifierSeparator + l )\n\t\t\t    \t\t\t\t\t.attr( 'value', subitemInputs[ step ][ inputKey ].value )\n\t\t\t    \t\t\t\t;\n\t\t\t    \t\t\t}\n\t\t\t    \t\t}\n\t\t\t\t\t\t// fill if pre configured\n\t\t\t\t\t\tif ( candidates && candidates[ l ] && candidates[ l ].candidate ) {\n\t\t\t\t\t\t\t//console.log( 'PREFILL ' + key + ' ' + i + ' ' + j + ' – ' + l + ' (' + candidates[ l ].candidate.name + ') – yes: ' + candidates[ l ].yes + ' – no: ' + candidates[ l ].no );\n\t\t\t\t\t\t\tif ( typeof candidates[ l ].yes !== 'undefined' ) {\n\t\t\t\t\t\t\t\t$subitemClone.find( 'input[name^=\"yes\"]' ).val( candidates[ l ].yes );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ( typeof candidates[ l ].no !== 'undefined' ) {\n\t\t\t\t\t\t\t\t$subitemClone.find( 'input[name^=\"no\"]' ).val( candidates[ l ].no );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// append subitem\n\t\t\t\t\t\t$subitemClone.appendTo( $subitemAppend );\n\n\t\t\t    \t}\n\n\t\t\t\t\t// append\n\t\t        \t$itemClone.appendTo( $itemAppend );\n\t\t        }\n\n\t\t        if ( electionCount == 1 ) {\n\t        \t\ttitle = electionGroup + electionTitleSeparator + election;\n\t        \t\t_cloneStep_2();\n\t\t        }\n\t\t        else {\n\t\t        \tif ( electionJoint ) {\n\t\t        \t\ttitle = electionGroup + electionTitleSeparator + election + ' (gemeinsam ' + electionCount + ')';\n\t\t        \t\t_cloneStep_2();\n\t\t        \t}\n\t\t        \telse {\n\t\t        \t\tfor ( var j = 0; j < electionCount; j++ ) {\n\t\t        \t\t\ttitle = electionGroup + electionTitleSeparator + election + electionTitleSeparator + ( j + 1 ) + '&thinsp;/&thinsp;' + electionCount;\n\t\t        \t\t\t_cloneStep_2( j );\n\t\t        \t\t}\n\t\t        \t}\n\t\t        }\n\n\t\t\t}\n\n        }\n\n        // get config on submit\n        $form\n        \t.off( 'submit.form.' + step )\n\t        .on( 'submit.form.' + step, function( event ) {\n\n\t        \tevent.preventDefault();\n\n\t        \tvar $form = $( this );\n\t        \t$form._getElectionCurrentConfig_2();\n\n\t        \t//_validateItems();\n\n\t        \t// get election result\n\t        \tif ( _getElectionResult() ) {\n\n\t\t\t\t\t//console.log( 'RESULT (currentElectionConfig): ' + JSON.stringify( currentElectionConfig, null, 2) );\n\t        \t\t\n\t        \t\t_buildStep_3();\n\t        \t}\n\n\t        \t$form.trigger( 'built' );\n\n\t        } )\n\t    ;\n\n    };\n\n\t// step 1 – prepare\n    _buildStep_1 = function() {\n\n    \tvar step = 1;\n\n    \t// form\n        var $form = Utils.$functionElems.filter( stepFormIdentifierPrefix + step + identifierSuffix );\n\n        // item\n        var $itemTemplate = Utils.$targetElems.filter( itemTemplateIdentifierPrefix + step + identifierSuffix );\n        var $itemAppend = Utils.$targetElems.filter( itemAppendIdentifierPrefix + step + identifierSuffix );\n\n        // item subitem\n        var $subitemTemplate = Utils.$targetElems.filter( subitemTemplateIdentifierPrefix + step + identifierSuffix );\n\n        // empty before fill\n        $itemAppend.empty();\n\n        // reset select\n        _Nav.$select[ step ]\n        \t.empty()\n        \t.append( selectInitialOption )\n        ;\n        \n        // election groups\n        for ( var key in currentElectionConfig ) {\n\n        \tvar itemIndex = Object.keys( currentElectionConfig ).indexOf( key );\n\t        var electionGroup = key;\n\n\t        // fill select\n\t        //_Nav.$select[ step ].append( '<option value=\"' + itemIndex + '\">' + electionGroup + '</option>' );\n\n        \t// elections within group\n\t\t\tfor ( var i = 0; i < currentElectionConfig[ key ].length; i++ ) {\n\t        \tvar election = currentElectionConfig[ key ][ i ].name;\n\n\t        \tvar electionCount = parseInt( currentElectionConfig[ key ][ i ].count );\n\t        \tvar electionJoint = currentElectionConfig[ key ][ i ].joint;\n\t\t\t\tvar electionCandidates = currentElectionConfig[ key ][ i ].candidates;\n    \t\n\t        \tvar title;\n\n\t        \t_cloneStep_1 = function( currentJ ) {\n\n\t        \t\tvar $itemClone = $itemTemplate.clone();\n\t        \t\tvar j = currentJ;\n\n\t\t\t        // fill select\n\t\t\t        _Nav.$select[ step ].append( '<option value=\"' + itemIndex + inputIdentifierSeparator + i + ( ( typeof j !== 'undefined' ) ? inputIdentifierSeparator + j : '' ) + '\">' + title + '</option>' );\n\n\t\t\t\t\t$itemClone\n\t\t\t\t\t\t.removeAttr( 'data-tg style' )\n\t\t    \t\t\t.attr( itemIdentifierAttr, itemIdentifierAttrVal )\n\t\t    \t\t\t.attr( itemIdAttr, ( typeof j !== 'undefined' ) ? itemIndex + inputIdentifierSeparator + i + inputIdentifierSeparator + j : itemIndex + inputIdentifierSeparator + i )\n\t\t\t\t\t\t._replaceTemplatePlaceholders( [ \n\t\t\t\t\t\t\t[ 'title', title ], \n\t\t\t\t\t\t\t[ 'index', itemIndex ] \n\t\t\t\t\t\t] )\n\t\t\t\t\t;\n\n\t\t\t\t\t// add subitems\n    \t\t\t\tvar subitemsCount;\n    \t\t\t\tif ( typeof j !== 'undefined' && typeof electionCandidates !== 'undefined' && typeof electionCandidates[ j ] !== 'undefined' && electionCandidates[ j ].length > 0 ) {\n    \t\t\t\t\tsubitemsCount = electionCandidates[ j ].length;\n    \t\t\t\t}\n    \t\t\t\telse if (\n    \t\t\t\t\ttypeof j === 'undefined' && typeof electionCandidates !== 'undefined' \n    \t\t\t\t\t&& typeof electionCandidates[ 0 ] !== 'undefined' \n    \t\t\t\t\t&& typeof electionCandidates[ 0 ].candidate !== 'undefined' \n    \t\t\t\t\t&& electionCandidates.length > 0\n    \t\t\t\t) {\n    \t\t\t\t\tsubitemsCount = electionCandidates.length;\n    \t\t\t\t}\n    \t\t\t\telse {\n    \t\t\t\t\tsubitemsCount = ( electionCount == 1 || ! electionJoint ) ? 1 + addEmptyCandidatesCount : electionCount + addEmptyCandidatesCount;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t$itemClone._addSublistItems( subitemsCount, itemIndex, i, j, electionCandidates );\n\t\t\t\t\t\n\t\t\t\t\t// bind add subitems button\n\t\t\t\t    $itemClone\n\t\t\t\t    \t.find( addSubitemsIdentifier )\n\t\t\t\t    \t.on( 'click', function( event ) {\n\t\t\t\t    \t\tevent.preventDefault();\n\t\t\t\t    \t\tvar $addSubitemsButton = $( this );\n\t\t\t\t    \t\tvar $item = $addSubitemsButton.closest( '[' + itemIdentifierAttr + '=\"' + itemIdentifierAttrVal + '\"]' );\n\t\t\t\t    \t\tvar $addSubitemsCountInput = $item.find( addSubitemsCountIdentifier );\n\t\t\t\t    \t\tvar newItemsCount = $addSubitemsCountInput.val();\n\t\t\t\t    \t\t$item._addSublistItems( newItemsCount, itemIndex, i, j );\n\t\t\t\t    \t} )\n\t\t\t\t    ;\n\n\t\t\t\t\t// append\n\t\t        \t$itemClone.appendTo( $itemAppend );\n\t\t        }\n\n\t\t        if ( electionCount == 1 ) {\n\t        \t\ttitle = electionGroup + electionTitleSeparator + election;\n\t        \t\t_cloneStep_1();\n\t\t        }\n\t\t        else {\n\t\t        \tif ( electionJoint ) {\n\t\t        \t\ttitle = electionGroup + electionTitleSeparator + election + ' (gemeinsam ' + electionCount + ')';\n\t\t        \t\t_cloneStep_1();\n\t\t        \t}\n\t\t        \telse {\n\t\t        \t\tfor ( var j = 0; j < electionCount; j++ ) {\n\t\t        \t\t\ttitle = electionGroup + electionTitleSeparator + election + electionTitleSeparator + ( j + 1 ) + '&thinsp;/&thinsp;' + electionCount;\n\t\t        \t\t\t_cloneStep_1( j );\n\t\t        \t\t}\n\t\t        \t}\n\t\t        }\n\n\t\t\t}\n\n        }\n\n        // get config on submit\n        $form\n        \t.off( 'submit.form.' + step )\n\t        .on( 'submit.form.' + step, function( event ) {\n\n\t        \tevent.preventDefault();\n\n\t        \tvar $form = $( this );\n\t        \t$form._getElectionCurrentConfig_1();\n\n\t        \t//_validateItems();\n\n\t        \t_buildStep_2();\n\n\t        \t$form.trigger( 'built' );\n\n\t        } )\n\t    ;\n\n    };\n\n\t// step 0 – config\n    _buildStep_0 = function() {\n\n    \t// TOFIX?: what about currentElectionPreset vs. currentElectionConfig?\n\n    \tvar step = 0;\n\n    \t// form\n        var $form = Utils.$functionElems.filter( stepFormIdentifierPrefix + step + identifierSuffix );\n\n        // item\n        var $itemTemplate = Utils.$targetElems.filter( itemTemplateIdentifierPrefix + step + identifierSuffix );\n        var $itemAppend = Utils.$targetElems.filter( itemAppendIdentifierPrefix + step + identifierSuffix );\n\n        // item subitem\n        var $subitemTemplate = Utils.$targetElems.filter( subitemTemplateIdentifierPrefix + step + identifierSuffix );\n\n        // empty before fill\n        $itemAppend.empty();\n        \n        // build ui for each election type\n        for ( var key in electionConfig ) {\n\n        \tvar itemIndex = Object.keys( electionConfig ).indexOf( key );\n        \tvar $itemClone = $itemTemplate.clone();\n\t\t\t$itemClone\n\t\t\t\t.removeAttr( 'data-tg style' )\n    \t\t\t.attr( itemIdentifierAttr, itemIdentifierAttrVal )\n    \t\t\t.attr( itemIdAttr, itemIndex )\n\t\t\t\t._replaceTemplatePlaceholders( [ \n\t\t\t\t\t[ 'title', key ], \n\t\t\t\t\t[ 'index', itemIndex ] \n\t\t\t\t] )\n\t\t\t;\n\n    \t\t// name item inputs\n    \t\tfor ( var inputKey in itemInputs[ step ] ) {\n    \t\t\tvar $input = $itemClone.find( itemInputs[ step ][ inputKey ].selector );\n    \t\t\tif ( $input.length > 0 ) {\n    \t\t\t\t$input\n    \t\t\t\t\t.attr( formIdentifierAttr, itemInputs[ step ][ inputKey ].name + itemIndex )\n    \t\t\t\t\t.attr( 'value', itemInputs[ step ][ inputKey ].value )\n    \t\t\t\t;\n\t\t    \t\t// fill if pre configured (use currentElectionPreset here since currentElectionConfig will always contain these values at this time)\n\t\t    \t\tif ( \n\t\t    \t\t\ttypeof currentElectionPreset !== 'undefined' \n\t\t    \t\t\t&& currentElectionPreset[ key ] \n\t\t    \t\t) {\n\t\t    \t\t\t$input.attr( 'checked', '' );\n\t\t    \t\t}\n    \t\t\t}\n    \t\t}\n\n\t\t\t// add subitems\n\t\t\tvar $electionTypesListSubitemAppend = $itemClone.find( subitemAppendIdentifierPrefix + step + identifierSuffix );\n\n\t\t\tfor ( var i = 0; i < electionConfig[ key ].length; i++ ) {\n\n        \t\tvar subitemIndex = i;\n        \t\tvar $subitemClone = $subitemTemplate.clone();\n\n        \t\t// remove count input or hide checkbox\n        \t\tif ( electionConfig[ key ][ i ].countVariable ) {\n        \t\t\tif ( \n        \t\t\t\ttypeof currentElectionConfig[ key ] !== 'undefined'\n        \t\t\t\t&& typeof currentElectionConfig[ key ][ i ] !== 'undefined'\n        \t\t\t\t&& ! currentElectionConfig[ key ][ i ].count > 1 \n        \t\t\t) {\n\t        \t\t\t// hide checkbox\n\t        \t\t\t$subitemClone.find( '[data-tp-o=\"3\"]' ).hide();\n        \t\t\t}\n        \t\t}\n        \t\telse if ( ! ( Number.isInteger( electionConfig[ key ][ i ].count ) && electionConfig[ key ][ i ].count > 1 ) ) {\n        \t\t\t// remove input\n        \t\t\t$subitemClone.find( '[data-tp-o=\"3\"]' ).remove();\n        \t\t} \n\n        \t\t// remove count if not required\n        \t\tif ( electionConfig[ key ][ i ].countVariable ) {\n        \t\t\t$subitemClone.find( '[data-tp-o=\"1\"]' ).remove();\n        \t\t}\n        \t\telse {\n        \t\t\t$subitemClone.find( '[data-tp-o=\"2\"]' ).remove();\n        \t\t}\n\n        \t\t$subitemClone\n        \t\t\t.removeAttr( 'data-tg style' )\n        \t\t\t._replaceTemplatePlaceholders( [ \n        \t\t\t\t[ 'electionItemType', electionConfig[ key ][ i ].name ], \n        \t\t\t\t[ 'electionItemCount', electionConfig[ key ][ i ].count ], \n        \t\t\t\t[ 'itemIndex', itemIndex ], \n        \t\t\t\t[ 'index', subitemIndex ] \n        \t\t\t] )\n\t\t\t\t\t._validateNumberInput()\n        \t\t;\n\n        \t\t// name subitem inputs\n        \t\tfor ( var inputKey in subitemInputs[ step ] ) {\n        \t\t\tvar $input = $subitemClone.find( subitemInputs[ step ][ inputKey ].selector );\n        \t\t\tif ( $input.length > 0 ) {\n        \t\t\t\t// add current value if set (checkbox: checkend, number: value)\n        \t\t\t\t$input\n        \t\t\t\t\t.attr( formIdentifierAttr, subitemInputs[ step ][ inputKey ].name + itemIndex + inputIdentifierSeparator + subitemIndex )\n\t    \t\t\t\t\t.attr( 'value', subitemInputs[ step ][ inputKey ].value )\n\t    \t\t\t\t;\n\t\t\t    \t\t// fill if pre configured\n\t\t\t    \t\tif ( \n\t\t\t    \t\t\t$input.is( '[' + formIdentifierAttr + '^=\"count\"]' ) \n\t\t\t    \t\t\t&& currentElectionConfig[ key ] \n\t\t\t    \t\t\t&& currentElectionConfig[ key ][ i ] \n\t\t\t    \t\t\t&& currentElectionConfig[ key ][ i ].countVariable === true \n\t\t\t    \t\t\t&& currentElectionConfig[ key ][ i ].count > 0 \n\t\t\t    \t\t) {\n\t\t\t    \t\t\t$input.attr( 'value', currentElectionConfig[ key ][ i ].count );\n\t\t\t    \t\t}\n\t\t\t    \t\tif ( \n\t\t\t    \t\t\t$input.is( '[type=\"checkbox\"]' ) \n\t\t\t    \t\t\t&& currentElectionConfig[ key ] \n\t\t\t    \t\t\t&& currentElectionConfig[ key ][ i ] \n\t\t\t    \t\t\t&& currentElectionConfig[ key ][ i ].joint === JSON.parse( subitemInputs[ step ].joint.value ) \n\t\t\t    \t\t) {\n\t\t\t    \t\t\t$input.attr( 'checked', '' );\n\t\t\t    \t\t}\n        \t\t\t}\n        \t\t}\n\n        \t\t// append subitem\n\t\t\t\t$subitemClone.appendTo( $electionTypesListSubitemAppend );\n\t\t\t}\n\n\t\t\t// append item\n        \t$itemClone\n        \t\t.appendTo( $itemAppend )\n        \t\t.checkSlideToggle( {\n\t\t\t        triggerSelector: '[data-g-fn=\"accordion-trigger\"]'\n\t\t\t    } )\n\t\t\t;\n\n        }\n\n        // get config on submit\n        $form\n        \t.off( 'submit.form.' + step )\n\t        .on( 'submit.form.' + step, function( event ) {\n\n\t        \tevent.preventDefault();\n\n\t        \tvar $form = $( this );\n\t        \t$form._getElectionCurrentConfig_0();\n\n\t        \t_buildStep_1();\n\n\t        \t$form.trigger( 'built' );\n\n\t        } )\n\t    ;\n\n    };\n\n    // NAVIGATION\n\n\t// vars\n    var _Nav = {\n    \tcurrentStep: 0,\n    \tpreviousStep: null,\n    \tcurrentItemCoordinates: null,\n    \tsteps: 3,\n    \t$electionStep: [],\n    \t$stepPrev: [],\n    \t$stepNext: [],\n    \t$select: [],\n    \tselectValues: [],\n    \tcurrentSelectValue: [],\n    \telectionDoneSelectValue: null\n    };\n\n\t_Nav._getSelectValues = function( select ) {\n\t\tvar values = [];\n\t\t$( select ).find( 'option' ).each( function() {\n\t\t\tvalues.push( $( this ).val() );\n\t\t} );\n\t\treturn values;\n\t}\n\n\t_Nav._gotoStep = function( gotoStep, gotoSelectValue ) {\n\n\t\t_Nav.previousStep = _Nav.currentStep;\n\t\t_Nav.currentStep = gotoStep;\n\n\t\tconsole.log( 'GOTO: ' + _Nav.currentStep + ' FROM: ' + _Nav.previousStep );\n\n\t\tfor ( var i = 0; i < _Nav.steps; i++ ) {\n\n    \t\tif ( i !== _Nav.currentStep ) {\n    \t\t\t// hide all step sections but current\n    \t\t\t_Nav.$electionStep[ i ].hide();\n    \t\t}\n    \t\telse {\n    \t\t\t// show current\n    \t\t\t_Nav.$electionStep[ i ].show();\n    \t\t}\n\n\t\t}\n\n\t\t// get select values if empty && step contains select \n\t\tif ( \n\t\t\t_Nav.selectValues.length == 0 \n\t\t\t&& ( _Nav.currentStep == 1 || _Nav.currentStep == 2 )\n\t\t) {\n\t\t\t// iterate each selection\n\t\t\t_Nav.selectValues = _Nav._getSelectValues( _Nav.$select[ _Nav.currentStep ] );\n\t\t}\n\n\t\t// TODO BEFORE: allow execute election only if (minimum) first item has candidates\n\t\t// if step == 2 set select to 1st item\n\t\tif ( _Nav.currentStep >= 2 ) {\n\n\t\t\t// use _Nav.currentSelectValue[ 2 ] instead of _Nav.currentSelectValue[ _Nav.currentStep ]\n\n\t\t\t_increaseSelectValue = function( value ) {\n\t\t\t\tconsole.log( '_increaseSelectValue: ' + value );\n\t\t\t\t// validate before increase\n\t\t\t\tvar selectCoordinates = value.split( inputIdentifierSeparator );\n\t\t\t\tvar check = _checkElectionConfigCandidatesOrVotes( selectCoordinates[ 0 ], selectCoordinates[ 1 ], selectCoordinates[ 2 ] );\n\t\t\t\tconsole.log( 'check for candidates & votes: ' + check[ 0 ] + ' – ' + check[ 1 ] );\n\t\t\t\tif ( check[ 0 ] === true ) {\n\t\t\t\t\tconsole.log( 'valid' );\n\t\t\t\t\t_Nav.currentSelectValue[ _Nav.currentStep ] = value;\n\t\t\t\t\t_Nav.$select[ _Nav.currentStep ]\n\t\t\t\t\t\t.val( value )\n\t\t\t\t\t\t.trigger( 'change' )\n\t\t\t\t\t;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tconsole.log( 'candidates missing, go back' );\n\t\t\t\t\t_Nav._gotoStep( _Nav.currentStep - 1 );\n\t\t\t\t\t// note: _gotoStep() has already changed _Nav.currentStep\n\t\t\t\t\t_Nav.$select[ _Nav.currentStep ]\n\t\t\t\t\t\t.val( value )\n\t\t\t\t\t\t.trigger( 'change' )\n\t\t\t\t\t;\n\t\t\t\t\t//_Nav.electionDoneSelectValue = _Nav.selectValues[ ( _Nav.selectValues.indexOf( value ) - 1 ) ];\n\t\t\t\t}\n\t\t\t\t_Nav.currentItemCoordinates = value.split( inputIdentifierSeparator );\n\n\t\t\t}\n\n\t\t    // check increase currentSelectValue\n\t\t    if ( ! _Nav.currentSelectValue[ _Nav.currentStep ] ) {\n\t\t    \t// unset, start with first item, wait for votes\n\t\t    \tconsole.log( '! _Nav.currentSelectValue[ _Nav.currentStep ]: ' + _Nav.currentSelectValue[ _Nav.currentStep ] );\n\t\t\t\tvar value = _Nav.selectValues[ ( _Nav.selectValues.indexOf( '-1' ) + 1 ) ] || _Nav.selectValues[ 0 ];\n\t\t\t\t_Nav.currentSelectValue[ _Nav.currentStep ] = value;\n\t\t\t\t// set select to first item\n\t\t\t\t_Nav.$select[ _Nav.currentStep ]\n\t\t\t\t\t.val( value )\n\t\t\t\t\t.trigger( 'change' )\n\t\t\t\t;\n\t\t\t\t//_increaseSelectValue( value );\n\t\t    }\n\t\t    else if ( \n\t\t    \t_Nav.previousStep == _Nav.currentStep\n\t\t    \t&& _Nav.selectValues.indexOf( _Nav.currentSelectValue[ _Nav.currentStep ] ) + 1 < _Nav.selectValues.length \n\t\t    ) {\n\t\t    \t// already set, go to next\n\n\t\t\t\t// TODO: wait for successful election result?\n\t\t\t\t// remember latest select value of successful item before increase\n\t\t\t\t_Nav.electionDoneSelectValue = _Nav.currentSelectValue[ _Nav.currentStep ];\n\t\t    \tconsole.log( '_Nav.currentSelectValue[ _Nav.currentStep ]: ' + _Nav.currentSelectValue[ _Nav.currentStep ] );\n\t\t\t\tconsole.log( '    _Nav.electionDoneSelectValue: ' + _Nav.electionDoneSelectValue );\n\t\t\t\tvar value = _Nav.selectValues[ ( _Nav.selectValues.indexOf( _Nav.currentSelectValue[ _Nav.currentStep ] ) + 1 ) ];\n\t\t\t\t_increaseSelectValue( value );\n\t\t    }\n\t\t    else if ( \n\t\t    \t_Nav.previousStep != _Nav.currentStep \n\t\t    \t&& _Nav.selectValues.indexOf( _Nav.currentSelectValue[ _Nav.currentStep ] ) + 1 < _Nav.selectValues.length\n\t\t    ) {\n\t\t    \tvar value = _Nav.selectValues[ ( _Nav.selectValues.indexOf( _Nav.electionDoneSelectValue ) + 1 ) ];\n\t\t\t\t_Nav.currentSelectValue[ _Nav.currentStep ] = value;\n\t\t\t\t// set select to first item\n\t\t\t\t_Nav.$select[ _Nav.currentStep ]\n\t\t\t\t\t.val( value )\n\t\t\t\t\t.trigger( 'change' )\n\t\t\t\t;\n\t\t    \tconsole.log( 'back to step 2' );\n\t\t    }\n\t\t    else {\n\t\t    \tconsole.log( 'result complete' );\n\t\t    }\n\n\t\t    // set select\n\t\t    if ( !! gotoSelectValue && _Nav.selectValues.length > 0 ) {\n\t\t\t\t_Nav.$select[ _Nav.currentStep ]\n\t\t\t\t\t.val( gotoSelectValue )\n\t\t\t\t\t.trigger( 'change' )\n\t\t\t\t;\n\t\t    }\n\n\t\t}\n\n\t\t_Nav._toTop();\n\n\t\tconsole.log( 'nav goto ' + _Nav.currentStep );\n\t}\n\n\t_Nav._prev = function( gotoSelectValue ) {\n\n\t\tvar currentStep = ( _Nav.currentStep > 0 ) ? _Nav.currentStep - 1 : 0;\n\t\t_Nav._gotoStep( currentStep, gotoSelectValue );\n\t\t_Nav._toTop();\n\n\t\tconsole.log( 'nav prev ' + _Nav.currentStep );\n\t}\n\n\t_Nav._next = function( gotoSelectValue ) {\n\n\t\tvar currentStep = ( _Nav.currentStep < _Nav.steps - 1 ) ? _Nav.currentStep + 1 : _Nav.steps - 1;\n\t\t_Nav._gotoStep( currentStep, gotoSelectValue );\n\t\t_Nav._toTop();\n\n\t\tconsole.log( 'nav next ' + _Nav.currentStep );\n\t}\n\n\t_Nav._toTop = function() {\n\t\t//Utils.$scrollRoot.animate( { scrollTop: 0 }, 300 );\n\t\tUtils.$functionElems.filter( '[data-fn=\"to-top-wrapper\"]' ).children( 'a' ).trigger( 'click' );\n\t}\n\n    _Nav._init = function() {\n\n    \t// get step sections, get back buttons\n    \tfor ( var i = 0; i < _Nav.steps; i++ ) {\n    \t\t//console.log( 'i: ' + i );\n\n    \t\t_Nav.$electionStep[ i ] = Utils.$targetElems.filter( stepIdentifierPrefix + i + identifierSuffix );\n\n    \t\t// prev (only step 1 & 2)\n    \t\tif ( i > 0 ) {\n    \t\t\t_Nav.$stepPrev[ i ] = Utils.$functionElems.filter( stepPrevIdentifierPrefix + i + identifierSuffix );\n    \t\t\t_Nav.$stepPrev[ i ].on( 'click', function( event ) {\n    \t\t\t\tevent.preventDefault();\n    \t\t\t\t_Nav._prev();\n    \t\t\t} );\n    \t\t}\n\n\t\t\t// next (all but step 3)\n    \t\tif ( i < _Nav.steps ) {\n    \t\t\t_Nav.$stepNext[ i ] = Utils.$functionElems.filter( stepFormIdentifierPrefix + i + identifierSuffix );\n    \t\t\t// use own event – build first, then navigate since otherwise next step’s data is empty\n    \t\t\t_Nav.$stepNext[ i ].on( 'built', function() {\n    \t\t\t\t_Nav._next();\n    \t\t\t} );\n    \t\t}\n\n    \t\t// get select / select change functions\n    \t\tif ( i > 0 ) {\n\n\t    \t\tif ( Utils.$functionElems.filter( stepSelectIdentifierPrefix + i + identifierSuffix ).length > 0 ) {\n\t    \t\t\t_Nav.$select[ i ] = Utils.$functionElems.filter( stepSelectIdentifierPrefix + i + identifierSuffix );\n\n\t    \t\t\t_Nav.currentSelectValue[ i ] = _Nav.$select[ i ].val();\n\n\t    \t\t\tconsole.log( '_Nav.currentSelectValue[ ' + i + ' ]: ' + _Nav.currentSelectValue[ i ] );\n\n\t    \t\t\t_Nav.$select[ i ].on( 'change', function() {\n\t    \t\t\t\tconsole.log( 'change ' + $( this ).val() );\n\n\t    \t\t\t\tvar value = $( this ).val();\n\t    \t\t\t\tvar $form = $( this ).closest( 'form' );\n\t    \t\t\t\tvar $showStepsButLast = $form .find( Utils.$targetElems.filter( '[data-tg=\"hide-last-item\"]' ) );\n\n\t    \t\t\t\t// refresh navigator data\n\t    \t\t\t\t_Nav.currentSelectValue[ i ] = value;\n\t    \t\t\t\t_Nav.currentItemCoordinates = value.split( inputIdentifierSeparator );\n\n\t    \t\t\t\tif ( value != -1 ) {\n\t\t    \t\t\t\t// hide all\n\t\t    \t\t\t\t$form\n\t\t    \t\t\t\t\t.find( '[' + itemIdAttr + ']' )\n\t\t    \t\t\t\t\t.hide()\n\t\t    \t\t\t\t;\n\t\t    \t\t\t\t// show selected\n\t\t    \t\t\t\t$form\n\t\t    \t\t\t\t\t.find( '[' + itemIdAttr + '^=\"' + value + '\"]' )\n\t\t    \t\t\t\t\t.show()\n\t\t    \t\t\t\t;\n\n\t\t    \t\t\t\t// show next item button / button addon (only if not last value)\n\t\t    \t\t\t\tif ( value != _Nav.selectValues[ _Nav.selectValues.length - 1 ] ) {\n\t\t\t    \t\t\t\t$showStepsButLast.show();\n\t\t\t    \t\t\t}\n\t\t\t    \t\t\telse {\n\t\t\t    \t\t\t\t$showStepsButLast.hide();\n\t\t\t    \t\t\t}\n\t    \t\t\t\t}\n\t    \t\t\t\telse {\n\t\t    \t\t\t\t// show all\n\n\t\t    \t\t\t\t// get current item coordinates\n\t\t    \t\t\t\t_Nav.currentItemCoordinates = null;\n\n\t\t    \t\t\t\t$form\n\t\t    \t\t\t\t\t.find( '[' + itemIdAttr + ']' )\n\t\t    \t\t\t\t\t.show()\n\t\t    \t\t\t\t;\n\n\t\t    \t\t\t\t// hide next item button / button addon\n\t\t\t    \t\t\t$showStepsButLast.hide();\n\t    \t\t\t\t}\n\n\t    \t\t\t} );\n\t    \t\t}\n    \t\t}\n\n\t\t\t// next item button\n\t\t\tif ( i == 1 ) {\n\t\t\t\tif ( Utils.$functionElems.filter( '[data-fn=\"election-next-item\"]' ) ) {\n\t\t\t\t\t$nextItemButton = Utils.$functionElems.filter( '[data-fn=\"election-next-item\"]' );\n\t\t\t\t\t\n\t\t\t\t\t$nextItemButton.on( 'click', function( event ) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tvar value = _Nav.$select[ _Nav.currentStep ].val()\n\t\t\t\t\t\tvar newValue = _Nav.selectValues[ ( _Nav.selectValues.indexOf( value ) + 1 ) ];\n\t\t\t\t\t\t_Nav.$select[ _Nav.currentStep ]\n\t\t\t\t\t\t\t.val( newValue )\n\t\t\t\t\t\t\t.trigger( 'change' )\n\t\t\t\t\t\t;\n\t\t\t\t\t\t_Nav.currentSelectValue[ i ] = newValue;\n\t\t    \t\t\t_Nav.currentItemCoordinates = newValue.split( inputIdentifierSeparator );\n\t\t\t\t\t\t_Nav._toTop();\n\t\t\t\t\t} );\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\n    \t}\n\n    \t// hide step sections but current\n    \t_Nav._gotoStep( _Nav.currentStep );\n\n    }\n\n    _Nav._reset = function() {\n\n    \t_Nav.currentStep = 0;\n    \t_Nav.previousStep = null;\n    \t_Nav.selectValues = [];\n    \t_Nav.currentSelectValue = [];\n    \t_Nav.electionDoneSelectValue = null;\n\n    \t_Nav._gotoStep( _Nav.currentStep );\n\n    }\n\n    // MENU FUNCTIONS\n\n\t// download file\n\tfunction _download( content, name, type ) {\n\t\tvar a = document.createElement( 'a' );\n\t\tvar file = new Blob( [content], { type: type } );\n\t\ta.href = URL.createObjectURL( file );\n\t\ta.download = name;\n\t\ta.click();\n\t}\n\n\t// save current election config as json file\n\t_saveCurrentElectionConfig = function() {\n\t\t// save config if exists\n\n\t\t// get current config of current step\n\t\tconsole.log( 'save step: ' + _Nav.currentStep );\n\n\t\tvar currentStep = ( _Nav.currentStep < _Nav.steps - 1 ) ? _Nav.currentStep : _Nav.steps - 2;\n\t\tUtils.$functionElems.filter( stepFormIdentifierPrefix + currentStep + identifierSuffix )[ ( '_getElectionCurrentConfig_' + currentStep ) ]();\n\n\t\tif ( typeof currentElectionConfig !== 'undefined' ) {\n\t\t\tvar $saveModal = Utils.$targetElems.filter( '[data-tg=\"save-modal\"]' );\n\t\t\tvar $form = $saveModal.find( 'form' );\n\t\t\tvar $fileNameInput = $form.find( 'input[name=\"file_name\"]' );\n\n\t\t\tvar d = new Date,\n\t\t\tdateString = [ \n\t\t\t\td.getFullYear(), \n\t\t\t\t( '00' + ( d.getMonth() + 1 ) ).slice( -2 ),\n\t\t\t\t( '00' + d.getDate() ).slice( -2 )\n\t\t\t].join( '-' ) + '_' + [ \n\t\t\t\t( '00' + d.getHours() ).slice( -2 ),\n\t\t\t\t( '00' + d.getMinutes() ).slice( -2 ),\n\t\t\t\t( '00' + d.getSeconds() ).slice( -2 )\n\t\t\t].join( '-' );\n\t\t\t$fileNameInput\n\t\t\t\t.val( downloadFileFallback + dateString )\n\t\t\t\t.on( 'focus', function() {\n\t\t\t\t\t$( this ).select();\n\t\t\t\t} )\n\t\t\t;\n\n\t\t\t$saveModal.on( 'shown.bs.modal', ( function( fileNameInput ) {\n\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t$( fileNameInput ).focus();\n\t\t\t\t}, 500 );\n\t\t\t} )( $fileNameInput ) );\n\n\t\t\t$saveModal.modal( 'show' );\n\n\t\t\t$form.one( 'submit', function( event, $saveModal ) {\n\t\t\t\tconsole.log( 'submit' );\n\t\t\t\tevent.preventDefault();\n\t\t\t\tvar $form = $( this );\n\t\t\t\tvar fileName = $fileNameInput.val();\n\t\t\t\tif ( fileName ) {\n\t\t\t\t\t_download( JSON.stringify( currentElectionConfig ), fileName + '.json', 'application/json' );\n\t\t\t\t\tUtils.$targetElems.filter( '[data-tg=\"save-modal\"]' ).modal( 'hide' );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t\telse {\n\t\t\t// TODO: fallback message\n\t\t}\n\t}\n\t// init\n\tUtils.$functionElems.filter( '[data-fn=\"config-download\"]' ).on( 'click', function() {\n\t\tUtils.$functionElems.filter( '#toggle-navbar-collapse' ).trigger( 'click' );\n\t\t_saveCurrentElectionConfig();\n\t} );\n\n\t// load election config from json file\n\t_loadCurrentElectionConfig = function() {\n\t\t// save config if exists\n\t\tvar $loadModal = Utils.$targetElems.filter( '[data-tg=\"load-modal\"]' );\n\t\tvar $form = $loadModal.find( 'form' );\n\n\t\tvar $fileInput = $form.find( 'input[name=\"file_name\"]' );\n\t\tvar result;\n\n\t\t$loadModal.modal( 'show' );\n\n\t\t$fileInput.on( 'change', function( event ) {\n\n\t\t\tvar files = event.target.files;\n\n\t\t\tif ( !! files && files.length > 0 ) {\n\t\t\t\tvar reader = new FileReader();\n\n\t\t\t\treader.onload = ( function( file ) {\n\t\t            return function( event ) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tresult = JSON.parse( event.target.result );\n\t\t\t\t\t\t} \n\t\t\t\t\t\tcatch( error ) {\n\t\t\t\t\t\t\tconsole.log( 'error trying to parse json: ' + error );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} )( files[ 0 ] );\n\t\t\t\treader.readAsText( files[ 0 ] );\n\t\t\t}\n\t\t} );\n\n\t\t$form.one( 'submit', function( event ) {\n\t\t\tevent.preventDefault();\n\n\t\t\tif ( typeof result !== 'undefined' ) {\n\t\t\t\t// set both\n\t\t\t\tcurrentElectionPreset = $.extend( {}, result );\n\t\t\t\tcurrentElectionConfig = $.extend( {}, result );\n\n\t\t\t\tUtils.$targetElems.filter( '[data-tg=\"load-modal\"]' ).modal( 'hide' );\n\n\t\t\t\t_buildStep_0();\n\t\t\t\t_Nav._reset();\n\n\t\t    \t// hide results container\n\t\t    \tUtils.$targetElems.filter( stepIdentifierPrefix + 3 + identifierSuffix ).hide();\n\n\t\t\t\t// reset file input\n\t\t\t\t$fileInput.val( '' );\n\t\t\t}\n\n\t\t} );\n\t}\n\t// init\n\tUtils.$functionElems.filter( '[data-fn=\"config-load\"]' ).on( 'click', function() {\n\t\tUtils.$functionElems.filter( '#toggle-navbar-collapse' ).trigger( 'click' );\n\t\t_loadCurrentElectionConfig();\n\t} );\n\n\t// reset election\n\t_resetElection = function() {\n\n\t}\n\n\t// confirm modal\n\t$.fn._confirmModal = function( options ) {\n\n        var defaults = {\n\t\t\theader: 'Bitte bestätigen',\n\t\t\theaderClass: 'modal-title',\n\t\t\tbody: 'Bitte bestätige die Aktion.',\n\t\t\tdismissButtonClass: 'btn btn-default',\n\t\t\tconfirmButtonClass: 'btn btn-danger',\n\t\t\tdismissButtonIconClass: 'fa fa-close',\n\t\t\tconfirmButtonIconClass: 'fa fa-check',\n\t\t\tdismissButtonText: 'Abbrechen',\n\t\t\tconfirmButtonText: 'Ok',\n\t\t\tconfirmCallback: null,\n\t\t\tdismissCallback: null\n        };\n\n        options = $.extend( {}, defaults, options );\n\n        var $modal = $( this );\n\n\t\t$modal.find( '[data-g-tg=\"modal-title\"]' ).html( options.header ).attr( 'class', options.headerClass );\n\t\t$modal.find( '[data-g-tg=\"modal-body\"]' ).html( options.body );\n\n\t\tvar $confirmButton = $modal.find( '[data-g-fn=\"confirm-modal-confirm\"]' );\n\t\t$confirmButton.attr( 'class', options.confirmButtonClass );\n\t\t$confirmButton.find( '[data-g-tg=\"btn-icon\"]' ).attr( 'class', options.confirmButtonIconClass );\n\t\t$confirmButton.find( '[data-g-tg=\"btn-text\"]' ).html( options.confirmButtonText );\n\n\t\tvar $dismissButton = $modal.find( '[data-g-fn=\"confirm-modal-dismiss\"]' );\n\t\t$dismissButton.attr( 'class', options.dismissButtonClass );\n\t\t$dismissButton.find( '[data-g-tg=\"btn-icon\"]' ).attr( 'class', options.dismissButtonIconClass );\n\t\t$dismissButton.find( '[data-g-tg=\"btn-text\"]' ).html( options.dismissButtonText );\n\n\t\t$modal.modal( 'show' );\n\n\t\tif ( options.confirmCallback ) {\n\t\t\t$confirmButton.one( 'click', function() {\n\t\t\t\toptions.confirmCallback();\n\t\t\t} );\n\t\t}\n\n\t\tif ( options.dismissCallback ) {\n\t\t\t$modal.one( 'hide.bs.modal', function() {\n\t\t\t\toptions.dismissCallback();\n\t\t\t} );\n\t\t}\n\t}\n\t// init\n\tUtils.$functionElems.filter( '[data-fn=\"config-delete\"]' ).on( 'click', function() {\n\n\t\tUtils.$functionElems.filter( '#toggle-navbar-collapse' ).trigger( 'click' );\n\n\t\tvar $confirmModal = Utils.$targetElems.filter( '[data-tg=\"confirm-modal\"]' );\n\n\t\t$confirmModal._confirmModal( {\n\t\t\theader: 'Löschen bestätigen',\n\t\t\theaderClass: 'modal-title text-danger',\n\t\t\tbody: 'Möchtest Du wirklich die gesamte Wahl zurücksetzen?',\n\t\t\tdismissButtonClass: 'btn btn-default',\n\t\t\tconfirmButtonClass: 'btn btn-danger',\n\t\t\tdismissButtonIconClass: 'fa fa-close',\n\t\t\tconfirmButtonIconClass: 'fa fa-trash',\n\t\t\tdismissButtonText: 'Nein, doch nicht',\n\t\t\tconfirmButtonText: 'Zurücksetzen',\n\t\t\tconfirmCallback: function() {\n\t\t\t\twindow.location.reload();\n\t\t\t}\n\t\t} );\n\t} );\n\n\t// INIT\n\n    // (called from init.js)\n    $.fn.dibElection = function() {\n    \t_buildStep_0();\n    \t_Nav._init();\n    }\n\n} )( jQuery, MY_UTILS );\n","/*\n\nEXAMPLE 1:\n\n<ul>\n    <li>\n        <a href=\"#\" aria-label=\"close\" data-fn=\"dropdown-multilevel-close\"></a>\n    </li>\n    <li>\n        <a id=\"id-1\" href=\"#\" data-fn=\"dropdown-multilevel\" aria-haspopup=\"true\" aria-expanded=\"false\">Link</a>\n        <ul aria-labelledby=\"id-1\"><!--  -->\n            ...\n        </ul>\n    </li>\n    ...\n</ul>\n\n<div data-tg=\"dropdown-multilevel-excluded\">I will be ignored</div>\n\n\nEXAMPLE 2:\n\n- external trigger for level 1 (anywhere)\n- trigger and list do not have to share a common list\n\n<a id=\"id-0\" href=\"#\" data-fn=\"dropdown-multilevel\" data-fn-target=\"[data-tg='navbar']\" aria-haspopup=\"true\" aria-expanded=\"false\">Open menu</a>\n\n<div data-tg=\"navbar\">\n    <ul aria-labelledby=\"id-0\">\n        <li>\n            <a href=\"#\" aria-label=\"close\" data-fn=\"dropdown-multilevel-close\"></a>\n        </li>\n        <li>\n            <a id=\"id-1\" href=\"#\" data-fn=\"dropdown-multilevel\" aria-haspopup=\"true\" aria-expanded=\"false\">Link</a>\n            <ul aria-labelledby=\"id-1\"><!--  -->\n                ...\n            </ul>\n        </li>\n        ...\n    </ul>\n</div>\n\n*/\n\n( function( $, Utils ) {\n\n    // dropdown multilevel (e.g. main navigation lists)\n    $.fn.dropdownMultilevel = function( options ) {\n\n        // config\n        var defaults = {\n            openedClass: Utils.classes.open,\n            hasOpenedSublevelClass: 'has-' + Utils.classes.open,\n            animatingClass: Utils.classes.animating,\n            closeElemSelector: '[data-fn=\"dropdown-multilevel-close\"]',\n            excludedBodyElements: '[data-tg=\"dropdown-multilevel-excluded\"]',\n            scrollDuration: 100\n        };\n\n        options = $.extend( {}, defaults, options );\n\n        // vars\n        var openedElems = []; // remember opened elements\n        var $elems = $( this );\n        var $excludedElems = Utils.$targetElems.filter( options.excludedBodyElements );\n\n        // functions\n        $.fn._getTarget = function() {\n            // gets target (li) defined by triggers target attribute or gets parent li as target\n            var $this = $( this );\n            var $target;\n            if ( $this.attr( Utils.attributes.target ) ) {\n                // has fn target attr\n                var targetSelector = $this.attr( Utils.attributes.target );\n                $target = ( Utils.$targetElems.filter( targetSelector ).lenght > 0 ) ? Utils.$targetElems.filter( targetSelector ) : $( targetSelector );\n            }\n            else {\n                // parent\n                $target = $this.parent( 'li' );\n            }\n            return $target;\n        };\n        $.fn._getList = function() {\n            // gets relatet list (ul) using aria labelledby attribute (refers to trigger id)\n            var $this = $( this );\n            return $this._getTarget().find( '[aria-labelledby=\"' + $this.attr( 'id' ) + '\"]' );\n        };\n        $.fn._getCloseElem = function() {\n            // gets close link (must be placed within first list element)\n            var $this = $( this );\n            return $this._getList().children().fist().find( '[data-fn=\"dropdown-multilevel-close\"]' );\n        };\n        $.fn._getParentList = function() {\n            // gets parent ul to target (doesn’t have to be parent to trigger)\n            var $this = $( this );\n            return $this._getTarget().parent( 'ul' );\n        };\n        $.fn._openDropdown = function() {\n\n            var $this = $( this );\n            var $thisTarget = $this._getTarget();\n            var $thisParentList = $this._getParentList();\n            $thisTarget\n                .addClass( options.openedClass )\n                .setRemoveAnimationClass( options.animatingClass );\n            $this.ariaExpanded( 'true' );\n            $thisParentList\n                // scroll up to keep opened sublevel in position\n                .animate({ scrollTop: 0 }, options.scrollDuration, function() {\n                    $( this ).addClass( options.hasOpenedSublevelClass );\n                } );\n\n            // remember\n            openedElems.push( $this );\n        };\n        $.fn._closeDropdown = function() {\n\n            var $this = $( this );\n            var $thisTarget = $this._getTarget();\n            var $thisParentList = $this._getParentList();\n            $thisTarget\n                .removeClass( options.openedClass )\n                .setRemoveAnimationClass( options.animatingClass );\n            $this.ariaExpanded( 'false' );\n            $thisParentList.removeClass( options.hasOpenedSublevelClass );\n\n            // remember\n            openedElems.pop();\n        };\n        function _closeAllDropdowns() {\n\n            // close from latest to earliest\n            for ( var i = openedElems.length - 1; i >= 0; i-- ) {\n                $( openedElems[ i ] )._closeDropdown();\n            }\n\n        };\n\n        function _listenBodyWhileDropdownOpen( currentOpenedElems ) {\n\n            Utils.$body.one( 'click.body', function( bodyEvent ) {\n\n                var $bodyEventTarget = $( bodyEvent.target );\n\n                // if dropdowns open\n                if ( currentOpenedElems.length > 0 ) {\n\n                    if ( $.inArray( $bodyEventTarget[ 0 ], $excludedElems ) == -1 ) {\n\n                        var $currentLatestOpenedList = $( currentOpenedElems[ currentOpenedElems.length - 1 ] )._getList();\n\n                        if ( $currentLatestOpenedList.children().children( options.closeElemSelector ).parent().has( $bodyEventTarget ).length > 0 ) {\n                            // click on close button\n\n                            // TODO: allow executing link if bigmenu deepest level shown but still has sublevels\n\n                            bodyEvent.preventDefault();\n\n                            // close current dropdown level\n                            $( currentOpenedElems[ currentOpenedElems.length - 1 ] )._closeDropdown();\n\n                            // create new close listener\n                            _listenBodyWhileDropdownOpen( openedElems );\n                        }\n                        else if ( $currentLatestOpenedList.has( $bodyEventTarget ).length > 0 || $currentLatestOpenedList.is( $bodyEventTarget ) ) {\n                            // click on opend list (event is inside list || event is list)\n\n                            // create new close listener\n                            _listenBodyWhileDropdownOpen( openedElems );\n                        }\n                        else if ( ! $currentLatestOpenedList.has( $bodyEventTarget ).length > 0 ) {\n                            // click outside dropdowns\n\n                            //close all\n                            _closeAllDropdowns();\n                        }\n\n                    }\n                    else {\n\n                        // create new close listener\n                        _listenBodyWhileDropdownOpen( openedElems );\n\n                    }\n\n                }\n\n            } );\n\n        }\n\n        $elems.each( function() {\n\n            var $elem = $(this);\n            var targetSelector = $elem.attr( Utils.attributes.target ) || '';\n            var $target = $elem._getTarget(); // ( targetSelector != '' ) ? $( targetSelector ) : $elem.parent();\n            var $list = $elem._getList(); // $target.find( '[aria-labelledby=\"' + $elem.attr( 'id' ) + '\"]' );\n\n            $elem.on( 'click', function( event ) {\n\n                if ( $target.length > 0 && $list.length > 0 ) {\n\n                    // remove event listener if click on dropdown trigger since new event listener will be created after click\n                    Utils.$body.off( 'click.body' );\n\n                    // check if clicked on open dropdown trigger\n                    var $eventTarget = $( event.target );\n                    var $latestOpenedElem = $( openedElems[ openedElems.length - 1 ] );\n\n                    if ( $latestOpenedElem.has( $eventTarget ).length > 0 || $latestOpenedElem.is( $eventTarget ) ) {\n\n                        event.preventDefault();\n\n                        // close current dropdown level\n                        $( openedElems[ openedElems.length - 1 ] )._closeDropdown();\n\n                        if ( openedElems.length > 0 ) {\n\n                            // create new close listener\n                            _listenBodyWhileDropdownOpen( openedElems );\n                        }\n\n                    }\n                    else {\n\n                        // check if do something (check visibility and position inside parent since might be visible but out of sight)\n                        if ( ! $list.is( ':visible' ) || ! $list.elemPositionedInside( $target.parent() ) ) {\n\n                            // show list, stop link execution\n                            event.preventDefault();\n\n                            // close opened dropdowns if not parents\n                            if ( openedElems.length > 0 ) {\n\n                                var $latestOpenedList = $( openedElems[ openedElems.length - 1 ] )._getList();\n\n                                // check if clicked dropdown is inside or outside of already opened dropdown\n                                if ( ! $latestOpenedList.has( $elem ).length > 0 ) {\n\n                                    // click outside opened dropdown – close all\n                                    _closeAllDropdowns();\n                                }\n                                else {\n                                    // keep opened dropdowns\n                                }\n\n                            }\n\n                            // open\n                            $elem._openDropdown();\n\n                            // check options, do any special taks?\n                            var options;\n                            if ( ( options = $elem.getOptionsFromAttr() ) ) {\n                                if ( options.focusOnOpen ) {\n                                    Utils.$targetElems.filter( options.focusOnOpen ).focus();\n                                }\n                            }\n\n                            event.stopPropagation();\n\n                            // create new close listener\n                            _listenBodyWhileDropdownOpen( openedElems );\n\n                        }\n                        else {\n                            // related list is already shown, do not open or close anything\n\n                            // create new close listener\n                            _listenBodyWhileDropdownOpen( openedElems );\n                        }\n                    }\n\n                }\n\n            } );\n\n        } );\n\n        // close all dropdowns on resize & orientationchange\n        Utils.$window.on( 'orientationchange sizeChange', function() {\n            _closeAllDropdowns();\n        } );\n\n    };\n\n} )( jQuery, MY_UTILS );\n","/*\n\n<div data-fn=\"remote-event\" data-fn-target=\"#id-1\" data-fn-options=\"{ triggerEvent: 'click',  remoteEvent: 'click' }\"></div>\n\n*/\n\n( function( $, Utils ) {\n\n    $.fn.remoteEvent = function() {\n\n        var $elems = $( this );\n\n        $elems.each( function() {\n\n            var $elem = $( this );\n            var targetSelector = $elem.attr( Utils.attributes.target ) || '';\n            var $target = ( Utils.$targetElems.filter( targetSelector ).lenght > 0 ) ? Utils.$targetElems.filter( targetSelector ) : $( targetSelector );\n            var attrOptions = $elem.getOptionsFromAttr();\n            var triggerEvent = attrOptions.triggerEvent || 'click';\n            var remoteEvent = attrOptions.remoteEvent || 'click';\n\n            $elem.on( triggerEvent, function() {\n                if ( $target.length > 0 ) {\n                    $target.trigger( remoteEvent );\n                }\n            } );\n\n        } );\n\n    };\n\n} )( jQuery, MY_UTILS );","( function( $, Utils ) {\n\n    // to top\n    $.fn.toggleToTopButton = function( options ) {\n\n        $elem = $( this );\n\n        var defaults = {\n            threshold: 100,\n            visibleClass: Utils.classes.open\n        };\n\n        options = $.extend( {}, defaults, options );\n    \n        function _positionToTopButton() {\n            if ( Utils.$document.scrollTop() > 100 ) {\n                if ( ! $elem.is( '.' + options.visibleClass ) ) {\n                    $elem.addClass( options.visibleClass );\n                }\n            }\n            else {\n                if ( $elem.is( '.' + options.visibleClass ) ) {\n                    $elem.removeClass( options.visibleClass );\n                }\n            }\n        }\n\n        // position\n        _positionToTopButton()\n        \n        Utils.$window.on( 'scroll resize', function() {\n            _positionToTopButton();\n        });\n    \n    }\n    // to top\n\n} )( jQuery, MY_UTILS );","( function( $, Utils ) {\n\n    $.fn.toggle = function() {\n\n        var $elems = $( this );\n\n        $elems.each( function() {\n\n            var $elem = $( this );\n            var targetSelector = $elem.attr( Utils.attributes.target ) || '';\n            var $target = ( Utils.$targetElems.filter( targetSelector ).lenght > 0 ) ? Utils.$targetElems.filter( targetSelector ) : $( targetSelector );\n            var openedClass = Utils.classes.open;\n            var animatingClass = Utils.classes.animating;\n            var transitionDuration = $target.getTransitionDuration();\n\n            $elem.on( 'click', function() {\n                if ( $target.length > 0 ) {\n\n                    // toggle 'openedClass' & aria-expanded (use 'openedClass' to check visibility since element might be ':visible' but out of viewport)\n                    if ( ! $target.is( '.' + openedClass ) ) {\n                        $target.addClass( openedClass );\n                        $elem.ariaExpanded( 'true' );\n                    }\n                    else {\n                        $target.removeClass( openedClass );\n                        $elem.ariaExpanded( 'false' );\n                    }\n\n                    // set & remove 'animatingClass'\n                    $target.setRemoveAnimationClass( animatingClass );\n                }\n            } );\n\n        } );\n\n    };\n\n} )( jQuery, MY_UTILS );","( function( $, Utils ) {\n\n    // toggle (e.g. main navigation)\n    Utils.$functionElems.filter( '[data-fn=\"toggle\"]' ).toggle();\n\n    // dropdown multilevel (e.g. main navigation lists)\n    Utils.$functionElems.filter( '[data-fn=\"dropdown-multilevel\"]' ).dropdownMultilevel();\n\n    // remote event (e.g. main navigation backdrop)\n    Utils.$functionElems.filter( '[data-fn=\"remote-event\"]' ).remoteEvent();\n\n    // animated anchors\n    $('a[href^=\"#\"]:not([href=\"#\"])').animatedAnchors( {\n        offset: function() {\n            return Utils.anchorOffsetTop;\n        }\n    } );\n\n    // to top button wrapper\n    Utils.$functionElems.filter( '[data-fn=\"to-top-wrapper\"]' ).toggleToTopButton();\n\n    // dib election tool\n    Utils.$functionElems.filter( '[data-fn=\"dib-election-tool\"]' ).dibElection();\n\n} )( jQuery, MY_UTILS );\n\n"]}